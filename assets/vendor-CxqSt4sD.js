function $1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function K1(){if(p_)return hl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:h,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var g_;function Q1(){return g_||(g_=1,Id.exports=K1()),Id.exports}var qO=Q1(),Cd={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function X1(){if(y_)return Tt;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function F(N,et,lt){this.props=N,this.context=et,this.refs=G,this.updater=lt||H}F.prototype.isReactComponent={},F.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=F.prototype;function K(N,et,lt){this.props=N,this.context=et,this.refs=G,this.updater=lt||H}var X=K.prototype=new B;X.constructor=K,V(X,F.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function O(N,et,lt,it,pt,wt){return lt=wt.ref,{$$typeof:r,type:N,key:et,ref:lt!==void 0?lt:null,props:wt}}function S(N,et){return O(N.type,et,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return et[lt]})}var x=/\/+/g;function k(N,et){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):et.toString(36)}function C(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Zt(N,et,lt,it,pt){var wt=typeof N;(wt==="undefined"||wt==="boolean")&&(N=null);var Et=!1;if(N===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(N.$$typeof){case r:case t:Et=!0;break;case T:return Et=N._init,Zt(Et(N._payload),et,lt,it,pt)}}if(Et)return pt=pt(N),Et=it===""?"."+k(N,0):it,rt(pt)?(lt="",Et!=null&&(lt=Et.replace(x,"$&/")+"/"),Zt(pt,et,lt,"",function(qn){return qn})):pt!=null&&(R(pt)&&(pt=S(pt,lt+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(x,"$&/")+"/")+Et)),et.push(pt)),1;Et=0;var we=it===""?".":it+":";if(rt(N))for(var Kt=0;Kt<N.length;Kt++)it=N[Kt],wt=we+k(it,Kt),Et+=Zt(it,et,lt,wt,pt);else if(Kt=w(N),typeof Kt=="function")for(N=Kt.call(N),Kt=0;!(it=N.next()).done;)it=it.value,wt=we+k(it,Kt++),Et+=Zt(it,et,lt,wt,pt);else if(wt==="object"){if(typeof N.then=="function")return Zt(ve(N),et,lt,it,pt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Q(N,et,lt){if(N==null)return N;var it=[],pt=0;return Zt(N,it,"","",function(wt){return et.call(lt,wt,pt++)}),it}function st(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var ft=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Pt(){}return Tt.Children={map:Q,forEach:function(N,et,lt){Q(N,function(){et.apply(this,arguments)},lt)},count:function(N){var et=0;return Q(N,function(){et++}),et},toArray:function(N){return Q(N,function(et){return et})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Tt.Component=F,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=K,Tt.StrictMode=s,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ot.H.useMemoCache(N)}},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cloneElement=function(N,et,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=V({},N.props),pt=N.key,wt=void 0;if(et!=null)for(Et in et.ref!==void 0&&(wt=void 0),et.key!==void 0&&(pt=""+et.key),et)!dt.call(et,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&et.ref===void 0||(it[Et]=et[Et]);var Et=arguments.length-2;if(Et===1)it.children=lt;else if(1<Et){for(var we=Array(Et),Kt=0;Kt<Et;Kt++)we[Kt]=arguments[Kt+2];it.children=we}return O(N.type,pt,void 0,void 0,wt,it)},Tt.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Tt.createElement=function(N,et,lt){var it,pt={},wt=null;if(et!=null)for(it in et.key!==void 0&&(wt=""+et.key),et)dt.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=et[it]);var Et=arguments.length-2;if(Et===1)pt.children=lt;else if(1<Et){for(var we=Array(Et),Kt=0;Kt<Et;Kt++)we[Kt]=arguments[Kt+2];pt.children=we}if(N&&N.defaultProps)for(it in Et=N.defaultProps,Et)pt[it]===void 0&&(pt[it]=Et[it]);return O(N,wt,void 0,void 0,null,pt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:p,render:N}},Tt.isValidElement=R,Tt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:st}},Tt.memo=function(N,et){return{$$typeof:y,type:N,compare:et===void 0?null:et}},Tt.startTransition=function(N){var et=ot.T,lt={};ot.T=lt;try{var it=N(),pt=ot.S;pt!==null&&pt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Pt,ft)}catch(wt){ft(wt)}finally{ot.T=et}},Tt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Tt.use=function(N){return ot.H.use(N)},Tt.useActionState=function(N,et,lt){return ot.H.useActionState(N,et,lt)},Tt.useCallback=function(N,et){return ot.H.useCallback(N,et)},Tt.useContext=function(N){return ot.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,et){return ot.H.useDeferredValue(N,et)},Tt.useEffect=function(N,et,lt){var it=ot.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,et)},Tt.useId=function(){return ot.H.useId()},Tt.useImperativeHandle=function(N,et,lt){return ot.H.useImperativeHandle(N,et,lt)},Tt.useInsertionEffect=function(N,et){return ot.H.useInsertionEffect(N,et)},Tt.useLayoutEffect=function(N,et){return ot.H.useLayoutEffect(N,et)},Tt.useMemo=function(N,et){return ot.H.useMemo(N,et)},Tt.useOptimistic=function(N,et){return ot.H.useOptimistic(N,et)},Tt.useReducer=function(N,et,lt){return ot.H.useReducer(N,et,lt)},Tt.useRef=function(N){return ot.H.useRef(N)},Tt.useState=function(N){return ot.H.useState(N)},Tt.useSyncExternalStore=function(N,et,lt){return ot.H.useSyncExternalStore(N,et,lt)},Tt.useTransition=function(){return ot.H.useTransition()},Tt.version="19.1.0",Tt}var __;function _m(){return __||(__=1,Cd.exports=X1()),Cd.exports}var $=_m();const Wt=$1($);var Od={exports:{}},dl={},Dd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function Z1(){return v_||(v_=1,function(r){function t(Q,st){var ft=Q.length;Q.push(st);t:for(;0<ft;){var Pt=ft-1>>>1,N=Q[Pt];if(0<l(N,st))Q[Pt]=st,Q[ft]=N,ft=Pt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var st=Q[0],ft=Q.pop();if(ft!==st){Q[0]=ft;t:for(var Pt=0,N=Q.length,et=N>>>1;Pt<et;){var lt=2*(Pt+1)-1,it=Q[lt],pt=lt+1,wt=Q[pt];if(0>l(it,ft))pt<N&&0>l(wt,it)?(Q[Pt]=wt,Q[pt]=ft,Pt=pt):(Q[Pt]=it,Q[lt]=ft,Pt=lt);else if(pt<N&&0>l(wt,ft))Q[Pt]=wt,Q[pt]=ft,Pt=pt;else break t}}return st}function l(Q,st){var ft=Q.sortIndex-st.sortIndex;return ft!==0?ft:Q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],T=1,A=null,w=3,H=!1,V=!1,G=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(Q){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Q)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=i(y)}}function ot(Q){if(G=!1,rt(Q),!V)if(i(g)!==null)V=!0,dt||(dt=!0,k());else{var st=i(y);st!==null&&Zt(ot,st.startTime-Q)}}var dt=!1,O=-1,S=5,R=-1;function D(){return F?!0:!(r.unstable_now()-R<S)}function x(){if(F=!1,dt){var Q=r.unstable_now();R=Q;var st=!0;try{t:{V=!1,G&&(G=!1,K(O),O=-1),H=!0;var ft=w;try{e:{for(rt(Q),A=i(g);A!==null&&!(A.expirationTime>Q&&D());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,w=A.priorityLevel;var N=Pt(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof N=="function"){A.callback=N,rt(Q),st=!0;break e}A===i(g)&&s(g),rt(Q)}else s(g);A=i(g)}if(A!==null)st=!0;else{var et=i(y);et!==null&&Zt(ot,et.startTime-Q),st=!1}}break t}finally{A=null,w=ft,H=!1}st=void 0}}finally{st?k():dt=!1}}}var k;if(typeof X=="function")k=function(){X(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ve=C.port2;C.port1.onmessage=x,k=function(){ve.postMessage(null)}}else k=function(){B(x,0)};function Zt(Q,st){O=B(function(){Q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var ft=w;w=st;try{return Q()}finally{w=ft}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=w;w=Q;try{return st()}finally{w=ft}},r.unstable_scheduleCallback=function(Q,st,ft){var Pt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,Q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ft+N,Q={id:T++,callback:st,priorityLevel:Q,startTime:ft,expirationTime:N,sortIndex:-1},ft>Pt?(Q.sortIndex=ft,t(y,Q),i(g)===null&&Q===i(y)&&(G?(K(O),O=-1):G=!0,Zt(ot,ft-Pt))):(Q.sortIndex=N,t(g,Q),V||H||(V=!0,dt||(dt=!0,k()))),Q},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Q){var st=w;return function(){var ft=w;w=st;try{return Q.apply(this,arguments)}finally{w=ft}}}}(Nd)),Nd}var E_;function W1(){return E_||(E_=1,Dd.exports=Z1()),Dd.exports}var Md={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function J1(){if(T_)return Fe;T_=1;var r=_m();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:y,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(g,y,null,T)},Fe.flushSync=function(g){var y=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Fe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:H}):T==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Fe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Fe.requestFormReset=function(g){s.d.r(g)},Fe.unstable_batchedUpdates=function(g,y){return g(y)},Fe.useFormState=function(g,y,T){return h.H.useFormState(g,y,T)},Fe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var b_;function tb(){if(b_)return Md.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=J1(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function eb(){if(S_)return dl;S_=1;var r=W1(),t=_m(),i=tb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===o)return p(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=d;else{for(var v=!1,E=f.child;E;){if(E===a){v=!0,a=f,o=d;break}if(E===o){v=!0,o=f,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=f;break}if(E===o){v=!0,o=d,a=f;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case ot:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case X:return(e.displayName||"Context")+".Provider";case K:return(e._context.displayName||"Context")+".Consumer";case rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ve(e(n))}catch{}}return null}var Zt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],N=-1;function et(e){return{current:e}}function lt(e){0>N||(e.current=Pt[N],Pt[N]=null,N--)}function it(e,n){N++,Pt[N]=e.current,e.current=n}var pt=et(null),wt=et(null),Et=et(null),we=et(null);function Kt(e,n){switch(it(Et,n),it(wt,e),it(pt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(pt),it(pt,e)}function qn(){lt(pt),lt(wt),lt(Et)}function Wi(e){e.memoizedState!==null&&it(we,e);var n=pt.current,a=Fy(n,e.type);n!==a&&(it(wt,e),it(pt,a))}function mi(e){wt.current===e&&(lt(pt),lt(wt)),we.current===e&&(lt(we),ol._currentValue=ft)}var jr=Object.prototype.hasOwnProperty,qr=r.unstable_scheduleCallback,Fr=r.unstable_cancelCallback,io=r.unstable_shouldYield,Jl=r.unstable_requestPaint,yn=r.unstable_now,If=r.unstable_getCurrentPriorityLevel,ro=r.unstable_ImmediatePriority,qa=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,Cf=r.unstable_LowPriority,Fa=r.unstable_IdlePriority,ao=r.log,tu=r.unstable_setDisableYieldValue,se=null,zt=null;function ln(e){if(typeof ao=="function"&&tu(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(se,e)}catch{}}var je=Math.clz32?Math.clz32:Yr,eu=Math.log,Of=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(eu(e)/Of|0)|0}var $r=256,Kr=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ga(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?f=Nn(o):(v&=E,v!==0?f=Nn(v):a||(a=E&~e,a!==0&&(f=Nn(a))))):(E=o&~d,E!==0?f=Nn(E):v!==0?f=Nn(v):a||(a=o&~e,a!==0&&(f=Nn(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function so(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function lo(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uo(e,n,a,o,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-je(a),J=1<<Z;E[Z]=0,I[Z]=-1;var j=z[Z];if(j!==null)for(z[Z]=null,Z=0;Z<j.length;Z++){var q=j[Z];q!==null&&(q.lane&=-536870913)}a&=~J}o!==0&&Fn(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Fn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function co(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-je(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:u_(e.type))}function nu(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var Jt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Jt,de="__reactProps$"+Jt,_n="__reactContainer$"+Jt,fo="__reactEvents$"+Jt,Df="__reactListeners$"+Jt,er="__reactHandles$"+Jt,iu="__reactResources$"+Jt,Xr="__reactMarker$"+Jt;function nr(e){delete e[Ee],delete e[de],delete e[fo],delete e[Df],delete e[er]}function yi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_n]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ky(e);e!==null;){if(a=e[Ee])return a;e=Ky(e)}return n}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[Ee]||e[_n]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Xe(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Xr]=!0}var ho=new Set,$a={};function Mn(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for($a[e]=n,e=0;e<n.length;e++)ho.add(n[e])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Zr={};function su(e){return jr.call(Zr,e)?!0:jr.call(au,e)?!1:ru.test(e)?Zr[e]=!0:(au[e]=!0,!1)}function ir(e,n,a){if(su(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function $n(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function xe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Wr,ou;function vi(e){if(Wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ou}var Ka=!1;function Qa(e,n){if(!e||Ka)return"";Ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var j=q}Reflect.construct(e,[],J)}else{try{J.call()}catch(q){j=q}e.call(J.prototype)}}else{try{throw Error()}catch(q){j=q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),z=E.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===z.length)for(o=I.length-1,f=z.length-1;1<=o&&0<=f&&I[o]!==z[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==z[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==z[f]){var Z=`
`+I[o].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=o&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function mo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return vi("Activity");default:return""}}function Xa(e){try{var n="";do n+=mo(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function po(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nf(e){var n=po(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Za(e){e._valueTracker||(e._valueTracker=Nf(e))}function go(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=po(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mf=/[\n"\\]/g;function me(e){return e.replace(Mf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function un(e,n,a,o,f,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?rr(e,v,Ze(n)):a!=null?rr(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function ta(e,n,a,o,f,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function rr(e,n,a){n==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function jt(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function ea(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Zt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function vn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||na.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function yo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&lu(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&lu(e,d,n[d])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(e){return Vf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Si=null;function vo(e){var n=Gn(e);if(n&&(e=n.stateNode)){var a=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[de]||null;if(!f)throw Error(s(90));un(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&go(o)}break t;case"textarea":jt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ei(e,!!a.multiple,n,!1)}}}var Kn=!1;function uu(e,n,a){if(Kn)return e(n,a);Kn=!0;try{var o=e(n);return o}finally{if(Kn=!1,(bi!==null||Si!==null)&&(nc(),bi&&(n=bi,e=Si,Si=bi=null,vo(n),e)))for(n=0;n<e.length;n++)vo(e[n])}}function ia(e,n){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(xn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Tn=!1}var Qn=null,ar=null,Ai=null;function Eo(){if(Ai)return Ai;var e,n=ar,a=n.length,o,f="value"in Qn?Qn.value:Qn.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===f[d-o];o++);return Ai=f.slice(e,1<o?1-o:void 0)}function Xn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function To(){return!1}function Re(e){function n(a,o,f,d,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:To,this.isPropagationStopped=To,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Re(Ut),aa=T({},Ut,{view:0,detail:0}),cu=Re(aa),ts,es,Wn,sa=T({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(ts=e.screenX-Wn.screenX,es=e.screenY-Wn.screenY):es=ts=0,Wn=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:es}}),bn=Re(sa),fu=T({},sa,{dataTransfer:0}),kf=Re(fu),oa=T({},aa,{relatedTarget:0}),ns=Re(oa),bo=T({},Ut,{animationName:0,elapsedTime:0,pseudoElement:0}),is=Re(bo),hu=T({},Ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rs=Re(hu),Pf=T({},Ut,{data:0}),So=Re(Pf),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function ua(){return Ao}var pu=T({},aa,{key:function(e){if(e.key){var n=la[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),as=Re(pu),gu=T({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=Re(gu),wi=T({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),yu=Re(wi),_u=T({},Ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=T({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ss=Re(Eu),We=T({},Ut,{newState:0,oldState:0}),Tu=Re(We),bu=[9,13,27,32],Jn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,_=xn&&(!Jn||u&&8<u&&11>=u),b=" ",L=!1;function Y(e,n){switch(e){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dt=!1;function Te(e,n){switch(e){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(L=!0,b);case"textInput":return e=n.data,e===b&&L?null:e;default:return null}}function Nt(e,n){if(Dt)return e==="compositionend"||!Jn&&Y(e,n)?(e=Eo(),Ai=ar=Qn=null,Dt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ri(e,n,a,o){bi?Si?Si.push(o):Si=[o]:bi=o,n=lc(n,"onChange"),0<n.length&&(a=new Ja("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ve=null,ti=null;function Ro(e){Uy(e,0)}function Su(e){var n=Yn(e);if(go(n))return e}function ap(e,n){if(e==="change")return n}var sp=!1;if(xn){var Lf;if(xn){var Uf="oninput"in document;if(!Uf){var op=document.createElement("div");op.setAttribute("oninput","return;"),Uf=typeof op.oninput=="function"}Lf=Uf}else Lf=!1;sp=Lf&&(!document.documentMode||9<document.documentMode)}function lp(){Ve&&(Ve.detachEvent("onpropertychange",up),ti=Ve=null)}function up(e){if(e.propertyName==="value"&&Su(ti)){var n=[];Ri(n,ti,e,En(e)),uu(Ro,n)}}function ST(e,n,a){e==="focusin"?(lp(),Ve=n,ti=a,Ve.attachEvent("onpropertychange",up)):e==="focusout"&&lp()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(ti)}function wT(e,n){if(e==="click")return Su(n)}function RT(e,n){if(e==="input"||e==="change")return Su(n)}function IT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:IT;function Io(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!jr.call(n,f)||!cn(e[f],n[f]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,n){var a=cp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cp(a)}}function hp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Jr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Jr(e.document)}return n}function zf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var CT=xn&&"documentMode"in document&&11>=document.documentMode,os=null,Bf=null,Co=null,Hf=!1;function mp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||os==null||os!==Jr(o)||(o=os,"selectionStart"in o&&zf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Io(Co,o)||(Co=o,o=lc(Bf,"onSelect"),0<o.length&&(n=new Ja("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=os)))}function ca(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ls={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},jf={},pp={};xn&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function fa(e){if(jf[e])return jf[e];if(!ls[e])return e;var n=ls[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in pp)return jf[e]=n[a];return e}var gp=fa("animationend"),yp=fa("animationiteration"),_p=fa("animationstart"),OT=fa("transitionrun"),DT=fa("transitionstart"),NT=fa("transitioncancel"),vp=fa("transitionend"),Ep=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function Vn(e,n){Ep.set(e,n),Mn(n,[e])}var Tp=new WeakMap;function Sn(e,n){if(typeof e=="object"&&e!==null){var a=Tp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Xa(n)},Tp.set(e,n),n)}return{value:e,source:n,stack:Xa(n)}}var An=[],us=0,Ff=0;function Au(){for(var e=us,n=Ff=us=0;n<e;){var a=An[n];An[n++]=null;var o=An[n];An[n++]=null;var f=An[n];An[n++]=null;var d=An[n];if(An[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&bp(a,f,d)}}function wu(e,n,a,o){An[us++]=e,An[us++]=n,An[us++]=a,An[us++]=o,Ff|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gf(e,n,a,o){return wu(e,n,a,o),Ru(e)}function cs(e,n){return wu(e,null,null,n),Ru(e)}function bp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-je(a),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=a|536870912),d):null}function Ru(e){if(50<Jo)throw Jo=0,Zh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fs={};function MT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,a,o){return new MT(e,n,a,o)}function Yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var a=e.alternate;return a===null?(a=fn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,a,o,f,d){var v=0;if(o=e,typeof e=="function")Yf(e)&&(v=1);else if(typeof e=="string")v=V1(e,a,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,a,n,f),e.elementType=R,e.lanes=d,e;case V:return ha(a.children,f,d,n);case G:v=8,f|=24;break;case F:return e=fn(12,a,n,f|2),e.elementType=F,e.lanes=d,e;case ot:return e=fn(13,a,n,f),e.elementType=ot,e.lanes=d,e;case dt:return e=fn(19,a,n,f),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:case X:v=10;break t;case K:v=9;break t;case rt:v=11;break t;case O:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=fn(v,a,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function ha(e,n,a,o){return e=fn(7,e,o,n),e.lanes=a,e}function $f(e,n,a){return e=fn(6,e,null,n),e.lanes=a,e}function Kf(e,n,a){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hs=[],ds=0,Cu=null,Ou=0,wn=[],Rn=0,da=null,Ci=1,Oi="";function ma(e,n){hs[ds++]=Ou,hs[ds++]=Cu,Cu=e,Ou=n}function Ap(e,n,a){wn[Rn++]=Ci,wn[Rn++]=Oi,wn[Rn++]=da,da=e;var o=Ci;e=Oi;var f=32-je(o)-1;o&=~(1<<f),a+=1;var d=32-je(n)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Ci=1<<32-je(n)+f|a<<f|o,Oi=d+e}else Ci=1<<d|a<<f|o,Oi=e}function Qf(e){e.return!==null&&(ma(e,1),Ap(e,1,0))}function Xf(e){for(;e===Cu;)Cu=hs[--ds],hs[ds]=null,Ou=hs[--ds],hs[ds]=null;for(;e===da;)da=wn[--Rn],wn[Rn]=null,Oi=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null}var Je=null,oe=null,Lt=!1,pa=null,ei=!1,Zf=Error(s(519));function ga(e){var n=Error(s(418,""));throw No(Sn(n,e)),Zf}function wp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[de]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<el.length;a++)Ct(el[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ta(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Za(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ea(n,o.value,o.defaultValue,o.children),Za(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||jy(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=uc),n=!0):n=!1,n||ga(e)}function Rp(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Je=Je.return}}function Oo(e){if(e!==Je)return!1;if(!Lt)return Rp(e),Lt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dd(e.type,e.memoizedProps)),a=!a),a&&oe&&ga(e),Rp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=Pn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,Tr(e.type)?(e=yd,yd=null,oe=e):oe=n):oe=Je?Pn(e.stateNode.nextSibling):null;return!0}function Do(){oe=Je=null,Lt=!1}function Ip(){var e=pa;return e!==null&&(an===null?an=e:an.push.apply(an,e),pa=null),e}function No(e){pa===null?pa=[e]:pa.push(e)}var Wf=et(null),ya=null,Di=null;function sr(e,n,a){it(Wf,n._currentValue),n._currentValue=a}function Ni(e){e._currentValue=Wf.current,lt(Wf)}function Jf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function th(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var I=0;I<n.length;I++)if(E.context===n[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Jf(d.return,a,e),o||(v=null);break t}d=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Jf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Mo(e,n,a,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=f.type;cn(f.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(f===we.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}f=f.return}e!==null&&th(n,e,a,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){ya=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Cp(ya,e)}function Nu(e,n){return ya===null&&_a(e),Cp(e,n)}function Cp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Di=Di.next=n;return a}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},VT=r.unstable_scheduleCallback,kT=r.unstable_NormalPriority,Se={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new xT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&VT(kT,function(){e.controller.abort()})}var Vo=null,nh=0,ms=0,ps=null;function PT(e,n){if(Vo===null){var a=Vo=[];nh=0,ms=rd(),ps={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nh++,n.then(Op,Op),n}function Op(){if(--nh===0&&Vo!==null){ps!==null&&(ps.status="fulfilled");var e=Vo;Vo=null,ms=0,ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function LT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Dp=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&PT(e,n),Dp!==null&&Dp(e,n)};var va=et(null);function ih(){var e=va.current;return e!==null?e:Qt.pooledCache}function Mu(e,n){n===null?it(va,va.current):it(va,n.pool)}function Np(){var e=ih();return e===null?null:{parent:Se._currentValue,pool:e}}var ko=Error(s(460)),Mp=Error(s(474)),xu=Error(s(542)),rh={then:function(){}};function xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vu(){}function Vp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Vu,Vu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e;default:if(typeof n.status=="string")n.then(Vu,Vu);else{if(e=Qt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e}throw Po=n,ko}}var Po=null;function kp(){if(Po===null)throw Error(s(459));var e=Po;return Po=null,e}function Pp(e){if(e===ko||e===xu)throw Error(s(483))}var or=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ur(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ru(e),bp(e,null,a),n}return wu(e,o,n,a),Ru(e)}function Lo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,co(e,a)}}function oh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var lh=!1;function Uo(){if(lh){var e=ps;if(e!==null)throw e}}function zo(e,n,a,o){lh=!1;var f=e.updateQueue;or=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,z=I.next;I.next=null,v===null?d=z:v.next=z,v=I;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==v&&(E===null?Z.firstBaseUpdate=z:E.next=z,Z.lastBaseUpdate=I))}if(d!==null){var J=f.baseState;v=0,Z=z=I=null,E=d;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(o&j)===j){j!==0&&j===ms&&(lh=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,gt=E;j=n;var Gt=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){J=vt.call(Gt,J,j);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,j=typeof vt=="function"?vt.call(Gt,J,j):vt,j==null)break t;J=T({},J,j);break t;case 2:or=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(z=Z=q,I=J):Z=Z.next=q,v|=j;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;q=E,E=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Z===null&&(I=J),f.baseState=I,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),yr|=v,e.lanes=v,e.memoizedState=J}}function Lp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Up(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lp(a[e],n)}var gs=et(null),ku=et(0);function zp(e,n){e=Ui,it(ku,e),it(gs,n),Ui=e|n.baseLanes}function uh(){it(ku,Ui),it(gs,gs.current)}function ch(){Ui=ku.current,lt(gs),lt(ku)}var cr=0,St=null,qt=null,pe=null,Pu=!1,ys=!1,Ea=!1,Lu=0,Bo=0,_s=null,UT=0;function fe(){throw Error(s(321))}function fh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!cn(e[a],n[a]))return!1;return!0}function hh(e,n,a,o,f,d){return cr=d,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?bg:Sg,Ea=!1,d=a(o,f),Ea=!1,ys&&(d=Hp(n,a,o,f)),Bp(e),d}function Bp(e){Q.H=qu;var n=qt!==null&&qt.next!==null;if(cr=0,pe=qt=St=null,Pu=!1,Bo=0,_s=null,n)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&Du(e)&&(Ce=!0))}function Hp(e,n,a,o){St=e;var f=0;do{if(ys&&(_s=null),Bo=0,ys=!1,25<=f)throw Error(s(301));if(f+=1,pe=qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=GT,d=n(a,o)}while(ys);return d}function zT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(qt!==null?qt.memoizedState:null)!==e&&(St.flags|=1024),n}function dh(){var e=Lu!==0;return Lu=0,e}function mh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function ph(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}cr=0,pe=qt=St=null,ys=!1,Bo=Lu=0,_s=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?St.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var n=pe===null?St.memoizedState:pe.next;if(n!==null)pe=n,qt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},pe===null?St.memoizedState=pe=e:pe=pe.next=e}return pe}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=Bo;return Bo+=1,_s===null&&(_s=[]),e=Vp(_s,e,n),n=St,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?bg:Sg),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===X)return qe(e)}throw Error(s(438,String(e)))}function yh(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=gh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=D;return n.index++,a}function Mi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=ge();return _h(n,qt,e)}function _h(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var E=v=null,I=null,z=n,Z=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Mt&J)===J:(cr&J)===J){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ms&&(Z=!0);else if((cr&j)===j){z=z.next,j===ms&&(Z=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=J,v=d):I=I.next=J,St.lanes|=j,yr|=j;J=z.action,Ea&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else j={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,v=d):I=I.next=j,St.lanes|=J,yr|=J;z=z.next}while(z!==null&&z!==n);if(I===null?v=d:I.next=E,!cn(d,e.memoizedState)&&(Ce=!0,Z&&(a=ps,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vh(e){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);cn(d,n.memoizedState)||(Ce=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function jp(e,n,a){var o=St,f=ge(),d=Lt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!cn((qt||f).memoizedState,a);v&&(f.memoizedState=a,Ce=!0),f=f.queue;var E=Gp.bind(null,o,f,e);if(jo(2048,8,E,[e]),f.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,vs(9,Bu(),Fp.bind(null,o,f,a,n),null),Qt===null)throw Error(s(349));d||(cr&124)!==0||qp(o,n,a)}return a}function qp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=gh(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Fp(e,n,a,o){n.value=a,n.getSnapshot=o,Yp(n)&&$p(e)}function Gp(e,n,a){return a(function(){Yp(n)&&$p(e)})}function Yp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!cn(e,a)}catch{return!0}}function $p(e){var n=cs(e,2);n!==null&&gn(n,e,2)}function Eh(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Ea){ln(!0);try{a()}finally{ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},n}function Kp(e,n,a,o){return e.baseState=a,_h(e,qt,typeof o=="function"?o:Mi)}function BT(e,n,a,o,f){if(ju(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Qp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Qp(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var E=a(f,o),I=Q.S;I!==null&&I(v,E),Xp(e,n,E)}catch(z){Th(e,n,z)}finally{Q.T=d}}else try{d=a(f,o),Xp(e,n,d)}catch(z){Th(e,n,z)}}function Xp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Zp(e,n,o)},function(o){return Th(e,n,o)}):Zp(e,n,a)}function Zp(e,n,a){n.status="fulfilled",n.value=a,Wp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Qp(e,a)))}function Th(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Wp(n),n=n.next;while(n!==o)}e.action=null}function Wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jp(e,n){return n}function tg(e,n){if(Lt){var a=Qt.formState;if(a!==null){t:{var o=St;if(Lt){if(oe){e:{for(var f=oe,d=ei;f.nodeType!==8;){if(!d){f=null;break e}if(f=Pn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){oe=Pn(f.nextSibling),o=f.data==="F!";break t}}ga(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:n},a.queue=o,a=vg.bind(null,St,o),o.dispatch=a,o=Eh(!1),d=Rh.bind(null,St,!1,o.queue),o=nn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=BT.bind(null,St,f,d,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function eg(e){var n=ge();return ng(n,qt,e)}function ng(e,n,a){if(n=_h(e,n,Jp)[0],e=zu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(v){throw v===ko?xu:v}else o=n;n=ge();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(St.flags|=2048,vs(9,Bu(),HT.bind(null,f,a),null)),[o,d,e]}function HT(e,n){e.action=n}function ig(e){var n=ge(),a=qt;if(a!==null)return ng(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function vs(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=gh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Bu(){return{destroy:void 0,resource:void 0}}function rg(){return ge().memoizedState}function Hu(e,n,a,o){var f=nn();o=o===void 0?null:o,St.flags|=e,f.memoizedState=vs(1|n,Bu(),a,o)}function jo(e,n,a,o){var f=ge();o=o===void 0?null:o;var d=f.memoizedState.inst;qt!==null&&o!==null&&fh(o,qt.memoizedState.deps)?f.memoizedState=vs(n,d,a,o):(St.flags|=e,f.memoizedState=vs(1|n,d,a,o))}function ag(e,n){Hu(8390656,8,e,n)}function sg(e,n){jo(2048,8,e,n)}function og(e,n){return jo(4,2,e,n)}function lg(e,n){return jo(4,4,e,n)}function ug(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cg(e,n,a){a=a!=null?a.concat([e]):null,jo(4,4,ug.bind(null,n,e),a)}function bh(){}function fg(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&fh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function hg(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&fh(n,o[1]))return o[0];if(o=e(),Ea){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o}function Sh(e,n,a){return a===void 0||(cr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=py(),St.lanes|=e,yr|=e,a)}function dg(e,n,a,o){return cn(a,n)?a:gs.current!==null?(e=Sh(e,a,o),cn(e,n)||(Ce=!0),e):(cr&42)===0?(Ce=!0,e.memoizedState=a):(e=py(),St.lanes|=e,yr|=e,n)}function mg(e,n,a,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var v=Q.T,E={};Q.T=E,Rh(e,!1,n,a);try{var I=f(),z=Q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=LT(I,o);qo(e,n,Z,pn(e))}else qo(e,n,o,pn(e))}catch(J){qo(e,n,{then:function(){},status:"rejected",reason:J},pn())}finally{st.p=d,Q.T=v}}function jT(){}function Ah(e,n,a,o){if(e.tag!==5)throw Error(s(476));var f=pg(e).queue;mg(e,f,n,ft,a===null?jT:function(){return gg(e),a(o)})}function pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gg(e){var n=pg(e).next.queue;qo(e,n,{},pn())}function wh(){return qe(ol)}function yg(){return ge().memoizedState}function _g(){return ge().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();e=lr(a);var o=ur(n,e,a);o!==null&&(gn(o,n,a),Lo(o,n,a)),n={cache:eh()},e.payload=n;return}n=n.return}}function FT(e,n,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(e)?Eg(n,a):(a=Gf(e,n,a,o),a!==null&&(gn(a,e,o),Tg(a,n,o)))}function vg(e,n,a){var o=pn();qo(e,n,a,o)}function qo(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Eg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,E=d(v,a);if(f.hasEagerState=!0,f.eagerState=E,cn(E,v))return wu(e,n,f,0),Qt===null&&Au(),!1}catch{}finally{}if(a=Gf(e,n,f,o),a!==null)return gn(a,e,o),Tg(a,n,o),!0}return!1}function Rh(e,n,a,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(s(479))}else n=Gf(e,a,o,2),n!==null&&gn(n,e,2)}function ju(e){var n=e.alternate;return e===St||n!==null&&n===St}function Eg(e,n){ys=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Tg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,co(e,a)}}var qu={readContext:qe,use:Uu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},bg={readContext:qe,use:Uu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:ag,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,ug.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Ea){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var f=a(n);if(Ea){ln(!0);try{a(n)}finally{ln(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=FT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Eh(e);var n=e.queue,a=vg.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:bh,useDeferredValue:function(e,n){var a=nn();return Sh(a,e,n)},useTransition:function(){var e=Eh(!1);return e=mg.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,f=nn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Qt===null)throw Error(s(349));(Mt&124)!==0||qp(o,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,ag(Gp.bind(null,o,d,e),[e]),o.flags|=2048,vs(9,Bu(),Fp.bind(null,o,d,a,n),null),a},useId:function(){var e=nn(),n=Qt.identifierPrefix;if(Lt){var a=Oi,o=Ci;a=(o&~(1<<32-je(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=UT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:wh,useFormState:tg,useActionState:tg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:yh,useCacheRefresh:function(){return nn().memoizedState=qT.bind(null,St)}},Sg={readContext:qe,use:Uu,useCallback:fg,useContext:qe,useEffect:sg,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:lg,useMemo:hg,useReducer:zu,useRef:rg,useState:function(){return zu(Mi)},useDebugValue:bh,useDeferredValue:function(e,n){var a=ge();return dg(a,qt.memoizedState,e,n)},useTransition:function(){var e=zu(Mi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:jp,useId:yg,useHostTransitionStatus:wh,useFormState:eg,useActionState:eg,useOptimistic:function(e,n){var a=ge();return Kp(a,qt,e,n)},useMemoCache:yh,useCacheRefresh:_g},GT={readContext:qe,use:Uu,useCallback:fg,useContext:qe,useEffect:sg,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:lg,useMemo:hg,useReducer:vh,useRef:rg,useState:function(){return vh(Mi)},useDebugValue:bh,useDeferredValue:function(e,n){var a=ge();return qt===null?Sh(a,e,n):dg(a,qt.memoizedState,e,n)},useTransition:function(){var e=vh(Mi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:jp,useId:yg,useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(e,n){var a=ge();return qt!==null?Kp(a,qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:_g},Es=null,Fo=0;function Fu(e){var n=Fo;return Fo+=1,Es===null&&(Es=[]),Vp(Es,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ag(e){var n=e._init;return n(e._payload)}function wg(e){function n(P,M){if(e){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!e)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=Ii(P,M),P.index=0,P.sibling=null,P}function d(P,M,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,U,W){return M===null||M.tag!==6?(M=$f(U,P.mode,W),M.return=P,M):(M=f(M,U),M.return=P,M)}function I(P,M,U,W){var ut=U.type;return ut===V?Z(P,M,U.props.children,W,U.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ag(ut)===M.type)?(M=f(M,U.props),Go(M,U),M.return=P,M):(M=Iu(U.type,U.key,U.props,null,P.mode,W),Go(M,U),M.return=P,M)}function z(P,M,U,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Kf(U,P.mode,W),M.return=P,M):(M=f(M,U.children||[]),M.return=P,M)}function Z(P,M,U,W,ut){return M===null||M.tag!==7?(M=ha(U,P.mode,W,ut),M.return=P,M):(M=f(M,U),M.return=P,M)}function J(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$f(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return U=Iu(M.type,M.key,M.props,null,P.mode,U),Go(U,M),U.return=P,U;case H:return M=Kf(M,P.mode,U),M.return=P,M;case S:var W=M._init;return M=W(M._payload),J(P,M,U)}if(Zt(M)||k(M))return M=ha(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return J(P,Fu(M),U);if(M.$$typeof===X)return J(P,Nu(P,M),U);Gu(P,M)}return null}function j(P,M,U,W){var ut=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:E(P,M,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===ut?I(P,M,U,W):null;case H:return U.key===ut?z(P,M,U,W):null;case S:return ut=U._init,U=ut(U._payload),j(P,M,U,W)}if(Zt(U)||k(U))return ut!==null?null:Z(P,M,U,W,null);if(typeof U.then=="function")return j(P,M,Fu(U),W);if(U.$$typeof===X)return j(P,M,Nu(P,U),W);Gu(P,U)}return null}function q(P,M,U,W,ut){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(U)||null,E(M,P,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return P=P.get(W.key===null?U:W.key)||null,I(M,P,W,ut);case H:return P=P.get(W.key===null?U:W.key)||null,z(M,P,W,ut);case S:var Rt=W._init;return W=Rt(W._payload),q(P,M,U,W,ut)}if(Zt(W)||k(W))return P=P.get(U)||null,Z(M,P,W,ut,null);if(typeof W.then=="function")return q(P,M,U,Fu(W),ut);if(W.$$typeof===X)return q(P,M,U,Nu(M,W),ut);Gu(M,W)}return null}function vt(P,M,U,W){for(var ut=null,Rt=null,ht=M,yt=M=0,De=null;ht!==null&&yt<U.length;yt++){ht.index>yt?(De=ht,ht=null):De=ht.sibling;var kt=j(P,ht,U[yt],W);if(kt===null){ht===null&&(ht=De);break}e&&ht&&kt.alternate===null&&n(P,ht),M=d(kt,M,yt),Rt===null?ut=kt:Rt.sibling=kt,Rt=kt,ht=De}if(yt===U.length)return a(P,ht),Lt&&ma(P,yt),ut;if(ht===null){for(;yt<U.length;yt++)ht=J(P,U[yt],W),ht!==null&&(M=d(ht,M,yt),Rt===null?ut=ht:Rt.sibling=ht,Rt=ht);return Lt&&ma(P,yt),ut}for(ht=o(ht);yt<U.length;yt++)De=q(ht,P,yt,U[yt],W),De!==null&&(e&&De.alternate!==null&&ht.delete(De.key===null?yt:De.key),M=d(De,M,yt),Rt===null?ut=De:Rt.sibling=De,Rt=De);return e&&ht.forEach(function(Rr){return n(P,Rr)}),Lt&&ma(P,yt),ut}function gt(P,M,U,W){if(U==null)throw Error(s(151));for(var ut=null,Rt=null,ht=M,yt=M=0,De=null,kt=U.next();ht!==null&&!kt.done;yt++,kt=U.next()){ht.index>yt?(De=ht,ht=null):De=ht.sibling;var Rr=j(P,ht,kt.value,W);if(Rr===null){ht===null&&(ht=De);break}e&&ht&&Rr.alternate===null&&n(P,ht),M=d(Rr,M,yt),Rt===null?ut=Rr:Rt.sibling=Rr,Rt=Rr,ht=De}if(kt.done)return a(P,ht),Lt&&ma(P,yt),ut;if(ht===null){for(;!kt.done;yt++,kt=U.next())kt=J(P,kt.value,W),kt!==null&&(M=d(kt,M,yt),Rt===null?ut=kt:Rt.sibling=kt,Rt=kt);return Lt&&ma(P,yt),ut}for(ht=o(ht);!kt.done;yt++,kt=U.next())kt=q(ht,P,yt,kt.value,W),kt!==null&&(e&&kt.alternate!==null&&ht.delete(kt.key===null?yt:kt.key),M=d(kt,M,yt),Rt===null?ut=kt:Rt.sibling=kt,Rt=kt);return e&&ht.forEach(function(Y1){return n(P,Y1)}),Lt&&ma(P,yt),ut}function Gt(P,M,U,W){if(typeof U=="object"&&U!==null&&U.type===V&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var ut=U.key;M!==null;){if(M.key===ut){if(ut=U.type,ut===V){if(M.tag===7){a(P,M.sibling),W=f(M,U.props.children),W.return=P,P=W;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ag(ut)===M.type){a(P,M.sibling),W=f(M,U.props),Go(W,U),W.return=P,P=W;break t}a(P,M);break}else n(P,M);M=M.sibling}U.type===V?(W=ha(U.props.children,P.mode,W,U.key),W.return=P,P=W):(W=Iu(U.type,U.key,U.props,null,P.mode,W),Go(W,U),W.return=P,P=W)}return v(P);case H:t:{for(ut=U.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),W=f(M,U.children||[]),W.return=P,P=W;break t}else{a(P,M);break}else n(P,M);M=M.sibling}W=Kf(U,P.mode,W),W.return=P,P=W}return v(P);case S:return ut=U._init,U=ut(U._payload),Gt(P,M,U,W)}if(Zt(U))return vt(P,M,U,W);if(k(U)){if(ut=k(U),typeof ut!="function")throw Error(s(150));return U=ut.call(U),gt(P,M,U,W)}if(typeof U.then=="function")return Gt(P,M,Fu(U),W);if(U.$$typeof===X)return Gt(P,M,Nu(P,U),W);Gu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),W=f(M,U),W.return=P,P=W):(a(P,M),W=$f(U,P.mode,W),W.return=P,P=W),v(P)):a(P,M)}return function(P,M,U,W){try{Fo=0;var ut=Gt(P,M,U,W);return Es=null,ut}catch(ht){if(ht===ko||ht===xu)throw ht;var Rt=fn(29,ht,null,P.mode);return Rt.lanes=W,Rt.return=P,Rt}finally{}}}var Ts=wg(!0),Rg=wg(!1),In=et(null),ni=null;function fr(e){var n=e.alternate;it(Ae,Ae.current&1),it(In,e),ni===null&&(n===null||gs.current!==null||n.memoizedState!==null)&&(ni=e)}function Ig(e){if(e.tag===22){if(it(Ae,Ae.current),it(In,e),ni===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ni=e)}}else hr()}function hr(){it(Ae,Ae.current),it(In,In.current)}function xi(e){lt(In),ni===e&&(ni=null),lt(Ae)}var Ae=et(0);function Yu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ih(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ch={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=pn(),f=lr(o);f.payload=n,a!=null&&(f.callback=a),n=ur(e,f,o),n!==null&&(gn(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=pn(),f=lr(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=ur(e,f,o),n!==null&&(gn(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=pn(),o=lr(a);o.tag=2,n!=null&&(o.callback=n),n=ur(e,o,a),n!==null&&(gn(n,e,a),Lo(n,e,a))}};function Cg(e,n,a,o,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!Io(a,o)||!Io(f,d):!0}function Og(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Ch.enqueueReplaceState(n,n.state,null)}function Ta(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dg(e){$u(e)}function Ng(e){console.error(e)}function Mg(e){$u(e)}function Ku(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Oh(e,n,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,n)},a}function Vg(e){return e=lr(e),e.tag=3,e}function kg(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){xg(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){xg(n,a,o),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function YT(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Mo(n,a,f,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?Jh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===rh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ed(e,o,f)),!1;case 22:return a.flags|=65536,o===rh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ed(e,o,f)),!1}throw Error(s(435,a.tag))}return ed(e,o,f),Jh(),!1}if(Lt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Zf&&(e=Error(s(422),{cause:o}),No(Sn(e,a)))):(o!==Zf&&(n=Error(s(423),{cause:o}),No(Sn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Sn(o,a),f=Oh(e.stateNode,o,f),oh(e,f),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:o});if(d=Sn(d,a),Wo===null?Wo=[d]:Wo.push(d),le!==4&&(le=2),n===null)return!0;o=Sn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Oh(a.stateNode,o,e),oh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_r===null||!_r.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Vg(f),kg(f,e,a,o),oh(a,f),!1}a=a.return}while(a!==null);return!1}var Pg=Error(s(461)),Ce=!1;function ke(e,n,a,o){n.child=e===null?Rg(n,null,a,o):Ts(n,e.child,a,o)}function Lg(e,n,a,o,f){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return _a(n),o=hh(e,n,a,v,d,f),E=dh(),e!==null&&!Ce?(mh(e,n,f),Vi(e,n,f)):(Lt&&E&&Qf(n),n.flags|=1,ke(e,n,o,f),n.child)}function Ug(e,n,a,o,f){if(e===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,zg(e,n,d,o,f)):(e=Iu(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Lh(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Io,a(v,o)&&e.ref===n.ref)return Vi(e,n,f)}return n.flags|=1,e=Ii(d,o),e.ref=n.ref,e.return=n,n.child=e}function zg(e,n,a,o,f){if(e!==null){var d=e.memoizedProps;if(Io(d,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=d,Lh(e,f))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Vi(e,n,f)}return Dh(e,n,a,o,f)}function Bg(e,n,a){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Hg(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,d!==null?d.cachePool:null),d!==null?zp(n,d):uh(),Ig(n);else return n.lanes=n.childLanes=536870912,Hg(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(Mu(n,d.cachePool),zp(n,d),hr(),n.memoizedState=null):(e!==null&&Mu(n,null),uh(),hr());return ke(e,n,f,a),n.child}function Hg(e,n,a,o){var f=ih();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),uh(),Ig(n),e!==null&&Mo(e,n,o,!0),null}function Qu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Dh(e,n,a,o,f){return _a(n),a=hh(e,n,a,o,void 0,f),o=dh(),e!==null&&!Ce?(mh(e,n,f),Vi(e,n,f)):(Lt&&o&&Qf(n),n.flags|=1,ke(e,n,a,f),n.child)}function jg(e,n,a,o,f,d){return _a(n),n.updateQueue=null,a=Hp(n,o,a,f),Bp(e),o=dh(),e!==null&&!Ce?(mh(e,n,d),Vi(e,n,d)):(Lt&&o&&Qf(n),n.flags|=1,ke(e,n,a,d),n.child)}function qg(e,n,a,o,f){if(_a(n),n.stateNode===null){var d=fs,v=a.contextType;typeof v=="object"&&v!==null&&(d=qe(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ch,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},ah(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?qe(v):fs,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ih(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ch.enqueueReplaceState(d,d.state,null),zo(n,o,d,f),Uo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,I=Ta(a,E);d.props=I;var z=d.context,Z=a.contextType;v=fs,typeof Z=="object"&&Z!==null&&(v=qe(Z));var J=a.getDerivedStateFromProps;Z=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==v)&&Og(n,d,o,v),or=!1;var j=n.memoizedState;d.state=j,zo(n,o,d,f),Uo(),z=n.memoizedState,E||j!==z||or?(typeof J=="function"&&(Ih(n,a,J,o),z=n.memoizedState),(I=or||Cg(n,a,I,o,j,z,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),d.props=o,d.state=z,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,sh(e,n),v=n.memoizedProps,Z=Ta(a,v),d.props=Z,J=n.pendingProps,j=d.context,z=a.contextType,I=fs,typeof z=="object"&&z!==null&&(I=qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||j!==I)&&Og(n,d,o,I),or=!1,j=n.memoizedState,d.state=j,zo(n,o,d,f),Uo();var q=n.memoizedState;v!==J||j!==q||or||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Ih(n,a,E,o),q=n.memoizedState),(Z=or||Cg(n,a,Z,o,j,q,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=I,o=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Qu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Ts(n,e.child,null,f),n.child=Ts(n,null,a,f)):ke(e,n,a,f),n.memoizedState=d.state,e=n.child):e=Vi(e,n,f),e}function Fg(e,n,a,o){return Do(),n.flags|=256,ke(e,n,a,o),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(e){return{baseLanes:e,cachePool:Np()}}function xh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function Gg(e,n,a){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(f?fr(n):hr(),Lt){var E=oe,I;if(I=E){t:{for(I=E,E=ei;I.nodeType!==8;){if(!E){E=null;break t}if(I=Pn(I.nextSibling),I===null){E=null;break t}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:da!==null?{id:Ci,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,Je=n,oe=null,I=!0):I=!1}I||ga(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return gd(E)?n.lanes=32:n.lanes=536870912,null;xi(n)}return E=o.children,o=o.fallback,f?(hr(),f=n.mode,E=Xu({mode:"hidden",children:E},f),o=ha(o,f,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,f=n.child,f.memoizedState=Mh(a),f.childLanes=xh(e,v,a),n.memoizedState=Nh,o):(fr(n),Vh(n,E))}if(I=e.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)n.flags&256?(fr(n),n.flags&=-257,n=kh(e,n,a)):n.memoizedState!==null?(hr(),n.child=e.child,n.flags|=128,n=null):(hr(),f=o.fallback,E=n.mode,o=Xu({mode:"visible",children:o.children},E),f=ha(f,E,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Ts(n,e.child,null,a),o=n.child,o.memoizedState=Mh(a),o.childLanes=xh(e,v,a),n.memoizedState=Nh,n=f);else if(fr(n),gd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),n=kh(e,n,a)}else if(Ce||Mo(e,n,a,!1),v=(a&e.childLanes)!==0,Ce||v){if(v=Qt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ji(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,cs(e,o),gn(v,e,o),Pg;E.data==="$?"||Jh(),n=kh(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,oe=Pn(E.nextSibling),Je=n,Lt=!0,pa=null,ei=!1,e!==null&&(wn[Rn++]=Ci,wn[Rn++]=Oi,wn[Rn++]=da,Ci=e.id,Oi=e.overflow,da=n),n=Vh(n,o.children),n.flags|=4096);return n}return f?(hr(),f=o.fallback,E=n.mode,I=e.child,z=I.sibling,o=Ii(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?f=Ii(z,f):(f=ha(f,E,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,E=e.child.memoizedState,E===null?E=Mh(a):(I=E.cachePool,I!==null?(z=Se._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=Np(),E={baseLanes:E.baseLanes|a,cachePool:I}),f.memoizedState=E,f.childLanes=xh(e,v,a),n.memoizedState=Nh,o):(fr(n),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Vh(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=fn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kh(e,n,a){return Ts(n,e.child,null,a),e=Vh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yg(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jf(e.return,n,a)}function Ph(e,n,a,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=f)}function $g(e,n,a){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(ke(e,n,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yg(e,a,n);else if(e.tag===19)Yg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(Ae,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Ph(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Yu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ph(n,!0,a,null,d);break;case"together":Ph(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),yr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Mo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ii(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function $T(e,n,a){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),sr(n,Se,e.memoizedState.cache),Do();break;case 27:case 5:Wi(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Gg(e,n,a):(fr(n),e=Vi(e,n,a),e!==null?e.sibling:null);fr(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Mo(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return $g(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Ae,Ae.current),o)break;return null;case 22:case 23:return n.lanes=0,Bg(e,n,a);case 24:sr(n,Se,e.memoizedState.cache)}return Vi(e,n,a)}function Kg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Lh(e,a)&&(n.flags&128)===0)return Ce=!1,$T(e,n,a);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(n.flags&1048576)!==0&&Ap(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Yf(o)?(e=Ta(o,e),n.tag=1,n=qg(null,n,o,e,a)):(n.tag=0,n=Dh(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===rt){n.tag=11,n=Lg(null,n,o,e,a);break t}else if(f===O){n.tag=14,n=Ug(null,n,o,e,a);break t}}throw n=ve(o)||o,Error(s(306,n,""))}}return n;case 0:return Dh(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=Ta(o,n.pendingProps),qg(e,n,o,f,a);case 3:t:{if(Kt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,sh(e,n),zo(n,o,null,a);var v=n.memoizedState;if(o=v.cache,sr(n,Se,o),o!==d.cache&&th(n,[Se],a,!0),Uo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Fg(e,n,o,a);break t}else if(o!==f){f=Sn(Error(s(424)),n),No(f),n=Fg(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Pn(e.firstChild),Je=n,Lt=!0,pa=null,ei=!0,a=Rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),o===f){n=Vi(e,n,a);break t}ke(e,n,o,a)}n=n.child}return n;case 26:return Qu(e,n),e===null?(a=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,e=n.pendingProps,o=cc(Et.current).createElement(a),o[Ee]=n,o[de]=e,Le(o,a,e),ce(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wi(n),e===null&&Lt&&(o=n.stateNode=Qy(n.type,n.pendingProps,Et.current),Je=n,ei=!0,f=oe,Tr(n.type)?(yd=f,oe=Pn(o.firstChild)):oe=f),ke(e,n,n.pendingProps.children,a),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((f=o=oe)&&(o=T1(o,n.type,n.pendingProps,ei),o!==null?(n.stateNode=o,Je=n,oe=Pn(o.firstChild),ei=!1,f=!0):f=!1),f||ga(n)),Wi(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,dd(f,d)?o=null:v!==null&&dd(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=hh(e,n,zT,null,null,a),ol._currentValue=f),Qu(e,n),ke(e,n,o,a),n.child;case 6:return e===null&&Lt&&((e=a=oe)&&(a=b1(a,n.pendingProps,ei),a!==null?(n.stateNode=a,Je=n,oe=null,e=!0):e=!1),e||ga(n)),null;case 13:return Gg(e,n,a);case 4:return Kt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ts(n,null,o,a):ke(e,n,o,a),n.child;case 11:return Lg(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,sr(n,n.type,o.value),ke(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,_a(n),f=qe(f),o=o(f),n.flags|=1,ke(e,n,o,a),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,a);case 15:return zg(e,n,n.type,n.pendingProps,a);case 19:return $g(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Xu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ii(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Bg(e,n,a);case 24:return _a(n),o=qe(Se),e===null?(f=ih(),f===null&&(f=Qt,d=eh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:o,cache:f},ah(n),sr(n,Se,f)):((e.lanes&a)!==0&&(sh(e,n),zo(n,null,null,a),Uo()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),sr(n,Se,o)):(o=d.cache,sr(n,Se,o),o!==f.cache&&th(n,[Se],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ki(e){e.flags|=4}function Qg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n)){if(n=In.current,n!==null&&((Mt&4194048)===Mt?ni!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==ni))throw Po=rh,Mp;e.flags|=8192}}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lo():536870912,e.lanes|=n,ws|=n)}function Yo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function KT(e,n,a){var o=n.pendingProps;switch(Xf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ni(Se),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(n)?ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ip())),ie(n),null;case 26:return a=n.memoizedState,e===null?(ki(n),a!==null?(ie(n),Qg(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(ki(n),ie(n),Qg(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&ki(n),ie(n),n.flags&=-16777217),null;case 27:mi(n),a=Et.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=pt.current,Oo(n)?wp(n):(e=Qy(f,o,a),n.stateNode=e,ki(n))}return ie(n),null;case 5:if(mi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=pt.current,Oo(n))wp(n);else{switch(f=cc(Et.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[Ee]=n,e[de]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Et.current,Oo(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=Je,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||jy(e.nodeValue,a)),e||ga(n)}else e=cc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Oo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=n}else Do(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=Ip(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null;case 4:return qn(),e===null&&ld(n.stateNode.containerInfo),ie(n),null;case 10:return Ni(n.type),ie(n),null;case 19:if(lt(Ae),f=n.memoizedState,f===null)return ie(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Yo(f,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Yu(e),d!==null){for(n.flags|=128,Yo(f,!1),e=d.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Sp(a,e),a=a.sibling;return it(Ae,Ae.current&1|2),n.child}e=e.sibling}f.tail!==null&&yn()>tc&&(n.flags|=128,o=!0,Yo(f,!1),n.lanes=4194304)}else{if(!o)if(e=Yu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Yo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Lt)return ie(n),null}else 2*yn()-f.renderingStartTime>tc&&a!==536870912&&(n.flags|=128,o=!0,Yo(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=yn(),n.sibling=null,e=Ae.current,it(Ae,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return xi(n),ch(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&lt(va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QT(e,n){switch(Xf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(Se),qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Do()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(Ae),null;case 4:return qn(),null;case 10:return Ni(n.type),null;case 22:case 23:return xi(n),ch(),e!==null&&lt(va),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(Se),null;case 25:return null;default:return null}}function Xg(e,n){switch(Xf(n),n.tag){case 3:Ni(Se),qn();break;case 26:case 27:case 5:mi(n);break;case 4:qn();break;case 13:xi(n);break;case 19:lt(Ae);break;case 10:Ni(n.type);break;case 22:case 23:xi(n),ch(),e!==null&&lt(va);break;case 24:Ni(Se)}}function $o(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==f)}}catch(E){Yt(n,n.return,E)}}function dr(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=n;var I=a,z=E;try{z()}catch(Z){Yt(f,I,Z)}}}o=o.next}while(o!==d)}}catch(Z){Yt(n,n.return,Z)}}function Zg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Up(n,a)}catch(o){Yt(e,e.return,o)}}}function Wg(e,n,a){a.props=Ta(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Ko(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){Yt(e,n,f)}}function ii(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Yt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Yt(e,n,f)}else a.current=null}function Jg(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Yt(e,e.return,f)}}function Uh(e,n,a){try{var o=e.stateNode;g1(o,e.type,a,n),o[de]=n}catch(f){Yt(e,e.return,f)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tr(e.type)||e.tag===4}function zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bh(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=uc));else if(o!==4&&(o===27&&Tr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Bh(e,n,a),e=e.sibling;e!==null;)Bh(e,n,a),e=e.sibling}function Wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Tr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function ey(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Le(n,o,a),n[Ee]=e,n[de]=a}catch(d){Yt(e,e.return,d)}}var Pi=!1,he=!1,Hh=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function XT(e,n){if(e=e.containerInfo,fd=gc,e=dp(e),zf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,I=-1,z=0,Z=0,J=e,j=null;e:for(;;){for(var q;J!==a||f!==0&&J.nodeType!==3||(E=v+f),J!==d||o!==0&&J.nodeType!==3||(I=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(q=J.firstChild)!==null;)j=J,J=q;for(;;){if(J===e)break e;if(j===a&&++z===f&&(E=v),j===d&&++Z===o&&(I=v),(q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hd={focusedElem:e,selectionRange:a},gc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var vt=Ta(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:mr(e,a),o&4&&$o(5,a);break;case 1:if(mr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Yt(a,a.return,v)}else{var f=Ta(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Yt(a,a.return,v)}}o&64&&Zg(a),o&512&&Ko(a,a.return);break;case 3:if(mr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Up(e,n)}catch(v){Yt(a,a.return,v)}}break;case 27:n===null&&o&4&&ey(a);case 26:case 5:mr(e,a),n===null&&o&4&&Jg(a),o&512&&Ko(a,a.return);break;case 12:mr(e,a);break;case 13:mr(e,a),o&4&&sy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=a1.bind(null,a),S1(e,a))));break;case 22:if(o=a.memoizedState!==null||Pi,!o){n=n!==null&&n.memoizedState!==null||he,f=Pi;var d=he;Pi=o,(he=n)&&!d?pr(e,a,(a.subtreeFlags&8772)!==0):mr(e,a),Pi=f,he=d}break;case 30:break;default:mr(e,a)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&nr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,rn=!1;function Li(e,n,a){for(a=a.child;a!==null;)ay(e,n,a),a=a.sibling}function ay(e,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:he||ii(a,n),Li(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ii(a,n);var o=te,f=rn;Tr(a.type)&&(te=a.stateNode,rn=!1),Li(e,n,a),il(a.stateNode),te=o,rn=f;break;case 5:he||ii(a,n);case 6:if(o=te,f=rn,te=null,Li(e,n,a),te=o,rn=f,te!==null)if(rn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(d){Yt(a,n,d)}else try{te.removeChild(a.stateNode)}catch(d){Yt(a,n,d)}break;case 18:te!==null&&(rn?(e=te,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fl(e)):$y(te,a.stateNode));break;case 4:o=te,f=rn,te=a.stateNode.containerInfo,rn=!0,Li(e,n,a),te=o,rn=f;break;case 0:case 11:case 14:case 15:he||dr(2,a,n),he||dr(4,a,n),Li(e,n,a);break;case 1:he||(ii(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wg(a,n,o)),Li(e,n,a);break;case 21:Li(e,n,a);break;case 22:he=(o=he)||a.memoizedState!==null,Li(e,n,a),he=o;break;default:Li(e,n,a)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){Yt(n,n.return,a)}}function ZT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(s(435,e.tag))}}function jh(e,n){var a=ZT(e);n.forEach(function(o){var f=s1.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function hn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],d=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Tr(E.type)){te=E.stateNode,rn=!1;break t}break;case 5:te=E.stateNode,rn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(te===null)throw Error(s(160));ay(d,v,f),te=null,rn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var kn=null;function oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),dn(e),o&4&&(dr(3,e,e.return),$o(3,e),dr(5,e,e.return));break;case 1:hn(n,e),dn(e),o&512&&(he||a===null||ii(a,a.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=kn;if(hn(n,e),dn(e),o&512&&(he||a===null||ii(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Xr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Le(d,o,a),d[Ee]=e,ce(d),o=d;break t;case"link":var v=e_("link","href",f).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=f.createElement(o),Le(d,o,a),f.head.appendChild(d);break;case"meta":if(v=e_("meta","content",f).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=f.createElement(o),Le(d,o,a),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ee]=e,ce(d),o=d}e.stateNode=o}else n_(f,e.type,e.stateNode);else e.stateNode=t_(f,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?n_(f,e.type,e.stateNode):t_(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uh(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(n,e),dn(e),o&512&&(he||a===null||ii(a,a.return)),a!==null&&o&4&&Uh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,e),dn(e),o&512&&(he||a===null||ii(a,a.return)),e.flags&32){f=e.stateNode;try{vn(f,"")}catch(q){Yt(e,e.return,q)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Uh(e,f,a!==null?a.memoizedProps:f)),o&1024&&(Hh=!0);break;case 6:if(hn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(q){Yt(e,e.return,q)}}break;case 3:if(dc=null,f=kn,kn=fc(n.containerInfo),hn(n,e),kn=f,dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(n.containerInfo)}catch(q){Yt(e,e.return,q)}Hh&&(Hh=!1,ly(e));break;case 4:o=kn,kn=fc(e.stateNode.containerInfo),hn(n,e),dn(e),kn=o;break;case 12:hn(n,e),dn(e);break;case 13:hn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=yn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jh(e,o)));break;case 22:f=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Pi,Z=he;if(Pi=z||f,he=Z||I,hn(n,e),he=Z,Pi=z,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||I||Pi||he||ba(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Yt(I,I.return,q)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(q){Yt(I,I.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,jh(e,a))));break;case 19:hn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jh(e,o)));break;case 30:break;case 21:break;default:hn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(ty(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=zh(e);Wu(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=zh(e);Wu(e,E,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=zh(e);Bh(e,z,I);break;default:throw Error(s(161))}}catch(Z){Yt(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function mr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function ba(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),ba(n);break;case 1:ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wg(n,n.return,a),ba(n);break;case 27:il(n.stateNode);case 26:case 5:ii(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}e=e.sibling}}function pr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:pr(f,d,a),$o(4,d);break;case 1:if(pr(f,d,a),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=d,f=o.updateQueue,f!==null){var E=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Lp(I[f],E)}catch(z){Yt(o,o.return,z)}}a&&v&64&&Zg(d),Ko(d,d.return);break;case 27:ey(d);case 26:case 5:pr(f,d,a),a&&o===null&&v&4&&Jg(d),Ko(d,d.return);break;case 12:pr(f,d,a);break;case 13:pr(f,d,a),a&&v&4&&sy(f,d);break;case 22:d.memoizedState===null&&pr(f,d,a),Ko(d,d.return);break;case 30:break;default:pr(f,d,a)}n=n.sibling}}function qh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Fh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function ri(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,a,o),n=n.sibling}function uy(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,a,o),f&2048&&$o(9,n);break;case 1:ri(e,n,a,o);break;case 3:ri(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(f&2048){ri(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else ri(e,n,a,o);break;case 13:ri(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ri(e,n,a,o):Qo(e,n):d._visibility&2?ri(e,n,a,o):(d._visibility|=2,bs(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&qh(v,n);break;case 24:ri(e,n,a,o),f&2048&&Fh(n.alternate,n);break;default:ri(e,n,a,o)}}function bs(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,E=a,I=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:bs(d,v,E,I,f),$o(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?bs(d,v,E,I,f):Qo(d,v):(Z._visibility|=2,bs(d,v,E,I,f)),f&&z&2048&&qh(v.alternate,v);break;case 24:bs(d,v,E,I,f),f&&z&2048&&Fh(v.alternate,v);break;default:bs(d,v,E,I,f)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:Qo(a,o),f&2048&&qh(o.alternate,o);break;case 24:Qo(a,o),f&2048&&Fh(o.alternate,o);break;default:Qo(a,o)}n=n.sibling}}var Xo=8192;function Ss(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 26:Ss(e),e.flags&Xo&&e.memoizedState!==null&&P1(kn,e.memoizedState,e.memoizedProps);break;case 5:Ss(e);break;case 3:case 4:var n=kn;kn=fc(e.stateNode.containerInfo),Ss(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xo,Xo=16777216,Ss(e),Xo=n):Ss(e));break;default:Ss(e)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,dy(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&dr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):Zo(e);break;default:Zo(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,dy(o,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:dr(8,n,n.return),Ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function dy(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:dr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var f=o.sibling,d=o.return;if(ry(o),o===a){Oe=null;break t}if(f!==null){f.return=d,Oe=f;break t}Oe=d}}}var WT={getCacheForType:function(e){var n=qe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},JT=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Qt=null,It=null,Mt=0,Ht=0,mn=null,gr=!1,As=!1,Gh=!1,Ui=0,le=0,yr=0,Sa=0,Yh=0,Cn=0,ws=0,Wo=null,an=null,$h=!1,Kh=0,tc=1/0,ec=null,_r=null,Pe=0,vr=null,Rs=null,Is=0,Qh=0,Xh=null,my=null,Jo=0,Zh=null;function pn(){if((Bt&2)!==0&&Mt!==0)return Mt&-Mt;if(Q.T!==null){var e=ms;return e!==0?e:rd()}return tr()}function py(){Cn===0&&(Cn=(Mt&536870912)===0||Lt?oo():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function gn(e,n,a){(e===Qt&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(Cs(e,0),Er(e,Mt,Cn,!1)),gi(e,a),((Bt&2)===0||e!==Qt)&&(e===Qt&&((Bt&2)===0&&(Sa|=a),le===4&&Er(e,Mt,Cn,!1)),ai(e))}function gy(e,n,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Qr(e,n),f=o?n1(e,n):td(e,n,!0),d=o;do{if(f===0){As&&!o&&Er(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!t1(a)){f=td(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;f=Wo;var I=E.current.memoizedState.isDehydrated;if(I&&(Cs(E,v).flags|=256),v=td(E,v,!1),v!==2){if(Gh&&!I){E.errorRecoveryDisabledLanes|=d,Sa|=d,f=4;break t}d=an,an=f,d!==null&&(an===null?an=d:an.push.apply(an,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Cs(e,0),Er(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Er(o,n,Cn,!gr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Kh+300-yn(),10<f)){if(Er(o,n,Cn,!gr),Ga(o,0,!0)!==0)break t;o.timeoutHandle=Gy(yy.bind(null,o,a,an,ec,$h,n,Cn,Sa,ws,gr,d,2,-0,0),f);break t}yy(o,a,an,ec,$h,n,Cn,Sa,ws,gr,d,0,-0,0)}}break}while(!0);ai(e)}function yy(e,n,a,o,f,d,v,E,I,z,Z,J,j,q){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:k1},cy(n),J=L1(),J!==null)){e.cancelPendingCommit=J(Ay.bind(null,e,n,d,a,o,f,v,E,I,Z,1,j,q)),Er(e,d,v,!z);return}Ay(e,n,d,a,o,f,v,E,I)}function t1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],d=f.getSnapshot;f=f.value;try{if(!cn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Er(e,n,a,o){n&=~Yh,n&=~Sa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-je(f),v=1<<d;o[d]=-1,f&=~v}a!==0&&Fn(e,a,n)}function nc(){return(Bt&6)===0?(tl(0),!1):!0}function Wh(){if(It!==null){if(Ht===0)var e=It.return;else e=It,Di=ya=null,ph(e),Es=null,Fo=0,e=It;for(;e!==null;)Xg(e.alternate,e),e=e.return;It=null}}function Cs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wh(),Qt=e,It=a=Ii(e.current,null),Mt=n,Ht=0,mn=null,gr=!1,As=Qr(e,n),Gh=!1,ws=Cn=Yh=Sa=yr=le=0,an=Wo=null,$h=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-je(o),d=1<<f;n|=e[f],o&=~d}return Ui=n,Au(),a}function _y(e,n){St=null,Q.H=qu,n===ko||n===xu?(n=kp(),Ht=3):n===Mp?(n=kp(),Ht=4):Ht=n===Pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,It===null&&(le=1,Ku(e,Sn(n,e.current)))}function vy(){var e=Q.H;return Q.H=qu,e===null?qu:e}function Ey(){var e=Q.A;return Q.A=WT,e}function Jh(){le=4,gr||(Mt&4194048)!==Mt&&In.current!==null||(As=!0),(yr&134217727)===0&&(Sa&134217727)===0||Qt===null||Er(Qt,Mt,Cn,!1)}function td(e,n,a){var o=Bt;Bt|=2;var f=vy(),d=Ey();(Qt!==e||Mt!==n)&&(ec=null,Cs(e,n)),n=!1;var v=le;t:do try{if(Ht!==0&&It!==null){var E=It,I=mn;switch(Ht){case 8:Wh(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=Ht;if(Ht=0,mn=null,Os(e,E,I,z),a&&As){v=0;break t}break;default:z=Ht,Ht=0,mn=null,Os(e,E,I,z)}}e1(),v=le;break}catch(Z){_y(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Di=ya=null,Bt=o,Q.H=f,Q.A=d,It===null&&(Qt=null,Mt=0,Au()),v}function e1(){for(;It!==null;)Ty(It)}function n1(e,n){var a=Bt;Bt|=2;var o=vy(),f=Ey();Qt!==e||Mt!==n?(ec=null,tc=yn()+500,Cs(e,n)):As=Qr(e,n);t:do try{if(Ht!==0&&It!==null){n=It;var d=mn;e:switch(Ht){case 1:Ht=0,mn=null,Os(e,n,d,1);break;case 2:case 9:if(xp(d)){Ht=0,mn=null,by(n);break}n=function(){Ht!==2&&Ht!==9||Qt!==e||(Ht=7),ai(e)},d.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:xp(d)?(Ht=0,mn=null,by(n)):(Ht=0,mn=null,Os(e,n,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||i_(v)){Ht=0,mn=null;var I=E.sibling;if(I!==null)It=I;else{var z=E.return;z!==null?(It=z,ic(z)):It=null}break e}}Ht=0,mn=null,Os(e,n,d,5);break;case 6:Ht=0,mn=null,Os(e,n,d,6);break;case 8:Wh(),le=6;break t;default:throw Error(s(462))}}i1();break}catch(Z){_y(e,Z)}while(!0);return Di=ya=null,Q.H=o,Q.A=f,Bt=a,It!==null?0:(Qt=null,Mt=0,Au(),le)}function i1(){for(;It!==null&&!io();)Ty(It)}function Ty(e){var n=Kg(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function by(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=jg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=jg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:ph(n);default:Xg(a,n),n=It=Sp(n,Ui),n=Kg(a,n,Ui)}e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function Os(e,n,a,o){Di=ya=null,ph(n),Es=null,Fo=0;var f=n.return;try{if(YT(e,f,n,a,Mt)){le=1,Ku(e,Sn(a,e.current)),It=null;return}}catch(d){if(f!==null)throw It=f,d;le=1,Ku(e,Sn(a,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:As||(Mt&536870912)!==0?e=!1:(gr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Sy(n,gr);return}e=n.return;var a=KT(n.alternate,n,Ui);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);le===0&&(le=5)}function Sy(e,n){do{var a=QT(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);le=6,It=null}function Ay(e,n,a,o,f,d,v,E,I){e.cancelPendingCommit=null;do rc();while(Pe!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Ff,uo(e,a,d,v,E,I),e===Qt&&(It=Qt=null,Mt=0),Rs=n,vr=e,Is=a,Qh=d,Xh=f,my=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o1(Gr,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,f=st.p,st.p=2,v=Bt,Bt|=4;try{XT(e,n,a)}finally{Bt=v,st.p=f,Q.T=o}}Pe=1,wy(),Ry(),Iy()}}function wy(){if(Pe===1){Pe=0;var e=vr,n=Rs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Bt;Bt|=4;try{oy(n,e);var d=hd,v=dp(e.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&hp(E.ownerDocument.documentElement,E)){if(I!==null&&zf(E)){var z=I.start,Z=I.end;if(Z===void 0&&(Z=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Z,E.value.length);else{var J=E.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var q=j.getSelection(),vt=E.textContent.length,gt=Math.min(I.start,vt),Gt=I.end===void 0?gt:Math.min(I.end,vt);!q.extend&&gt>Gt&&(v=Gt,Gt=gt,gt=v);var P=fp(E,gt),M=fp(E,Gt);if(P&&M&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var U=J.createRange();U.setStart(P.node,P.offset),q.removeAllRanges(),gt>Gt?(q.addRange(U),q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),q.addRange(U))}}}}for(J=[],q=E;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var W=J[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}gc=!!fd,hd=fd=null}finally{Bt=f,st.p=o,Q.T=a}}e.current=n,Pe=2}}function Ry(){if(Pe===2){Pe=0;var e=vr,n=Rs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Bt;Bt|=4;try{iy(e,n.alternate,n)}finally{Bt=f,st.p=o,Q.T=a}}Pe=3}}function Iy(){if(Pe===4||Pe===3){Pe=0,Jl();var e=vr,n=Rs,a=Is,o=my;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Rs=vr=null,Cy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(_r=null),Ya(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,f=st.p,st.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{Q.T=n,st.p=f}}(Is&3)!==0&&rc(),ai(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Zh?Jo++:(Jo=0,Zh=e):Jo=0,tl(0)}}function Cy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function rc(e){return wy(),Ry(),Iy(),Oy()}function Oy(){if(Pe!==5)return!1;var e=vr,n=Qh;Qh=0;var a=Ya(Is),o=Q.T,f=st.p;try{st.p=32>a?32:a,Q.T=null,a=Xh,Xh=null;var d=vr,v=Is;if(Pe=0,Rs=vr=null,Is=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,hy(d.current),uy(d,d.current,v,a),Bt=E,tl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{st.p=f,Q.T=o,Cy(e,n)}}function Dy(e,n,a){n=Sn(a,n),n=Oh(e.stateNode,n,2),e=ur(e,n,2),e!==null&&(gi(e,2),ai(e))}function Yt(e,n,a){if(e.tag===3)Dy(e,e,a);else for(;n!==null;){if(n.tag===3){Dy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_r===null||!_r.has(o))){e=Sn(a,e),a=Vg(2),o=ur(n,a,2),o!==null&&(kg(a,o,n,e),gi(o,2),ai(o));break}}n=n.return}}function ed(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new JT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(Gh=!0,f.add(a),e=r1.bind(null,e,n,a),n.then(e,e))}function r1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qt===e&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>yn()-Kh?(Bt&2)===0&&Cs(e,0):Yh|=a,ws===Mt&&(ws=0)),ai(e)}function Ny(e,n){n===0&&(n=lo()),e=cs(e,n),e!==null&&(gi(e,n),ai(e))}function a1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ny(e,a)}function s1(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ny(e,a)}function o1(e,n){return qr(e,n)}var ac=null,Ds=null,nd=!1,sc=!1,id=!1,Aa=0;function ai(e){e!==Ds&&e.next===null&&(Ds===null?ac=Ds=e:Ds=Ds.next=e),sc=!0,nd||(nd=!0,u1())}function tl(e,n){if(!id&&sc){id=!0;do for(var a=!1,o=ac;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-je(42|e)+1)-1,d&=f&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ky(o,d))}else d=Mt,d=Ga(o,o===Qt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Qr(o,d)||(a=!0,ky(o,d));o=o.next}while(a);id=!1}}function l1(){My()}function My(){sc=nd=!1;var e=0;Aa!==0&&(y1()&&(e=Aa),Aa=0);for(var n=yn(),a=null,o=ac;o!==null;){var f=o.next,d=xy(o,n);d===0?(o.next=null,a===null?ac=f:a.next=f,f===null&&(Ds=a)):(a=o,(e!==0||(d&3)!==0)&&(sc=!0)),o=f}tl(e)}function xy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-je(d),E=1<<v,I=f[v];I===-1?((E&a)===0||(E&o)!==0)&&(f[v]=so(E,n)):I<=n&&(e.expiredLanes|=E),d&=~E}if(n=Qt,a=Mt,a=Ga(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Fr(o),Ya(a)){case 2:case 8:a=qa;break;case 32:a=Gr;break;case 268435456:a=Fa;break;default:a=Gr}return o=Vy.bind(null,e),a=qr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Fr(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var o=Mt;return o=Ga(e,e===Qt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(gy(e,o,n),xy(e,yn()),e.callbackNode!=null&&e.callbackNode===a?Vy.bind(null,e):null)}function ky(e,n){if(rc())return null;gy(e,n,!0)}function u1(){v1(function(){(Bt&6)!==0?qr(ro,l1):My()})}function rd(){return Aa===0&&(Aa=oo()),Aa}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wa(""+e)}function Ly(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function c1(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var d=Py((f[de]||null).action),v=o.submitter;v&&(n=(n=v[de]||null)?Py(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var E=new Ja("action","action",null,o,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Aa!==0){var I=v?Ly(f,v):new FormData(f);Ah(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?Ly(f,v):new FormData(f),Ah(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var ad=0;ad<qf.length;ad++){var sd=qf[ad],f1=sd.toLowerCase(),h1=sd[0].toUpperCase()+sd.slice(1);Vn(f1,"on"+h1)}Vn(gp,"onAnimationEnd"),Vn(yp,"onAnimationIteration"),Vn(_p,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(OT,"onTransitionRun"),Vn(DT,"onTransitionStart"),Vn(NT,"onTransitionCancel"),Vn(vp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Uy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=z;try{d(f)}catch(Z){$u(Z)}f.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(E=o[v],I=E.instance,z=E.currentTarget,E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=z;try{d(f)}catch(Z){$u(Z)}f.currentTarget=null,d=I}}}}function Ct(e,n){var a=n[fo];a===void 0&&(a=n[fo]=new Set);var o=e+"__bubble";a.has(o)||(zy(n,e,2,!1),a.add(o))}function od(e,n,a){var o=0;n&&(o|=4),zy(a,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[oc]){e[oc]=!0,ho.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||od(a,!1,e),od(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,od("selectionchange",!1,n))}}function zy(e,n,a,o){switch(u_(n)){case 2:var f=B1;break;case 8:f=H1;break;default:f=bd}a=f.bind(null,n,a,e),f=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function ud(e,n,a,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=yi(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue t}E=E.parentNode}}o=o.return}uu(function(){var z=d,Z=En(a),J=[];t:{var j=Ep.get(e);if(j!==void 0){var q=Ja,vt=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":q=as;break;case"focusin":vt="focus",q=ns;break;case"focusout":vt="blur",q=ns;break;case"beforeblur":case"afterblur":q=ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case gp:case yp:case _p:q=is;break;case vp:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=ss;break;case"copy":case"cut":case"paste":q=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wo;break;case"toggle":case"beforetoggle":q=Tu}var gt=(n&4)!==0,Gt=!gt&&(e==="scroll"||e==="scrollend"),P=gt?j!==null?j+"Capture":null:j;gt=[];for(var M=z,U;M!==null;){var W=M;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||P===null||(W=ia(M,P),W!=null&&gt.push(nl(M,W,U))),Gt)break;M=M.return}0<gt.length&&(j=new q(j,vt,null,a,Z),J.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Ti&&(vt=a.relatedTarget||a.fromElement)&&(yi(vt)||vt[_n]))break t;if((q||j)&&(j=Z.window===Z?Z:(j=Z.ownerDocument)?j.defaultView||j.parentWindow:window,q?(vt=a.relatedTarget||a.toElement,q=z,vt=vt?yi(vt):null,vt!==null&&(Gt=c(vt),gt=vt.tag,vt!==Gt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(q=null,vt=z),q!==vt)){if(gt=bn,W="onMouseLeave",P="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=wo,W="onPointerLeave",P="onPointerEnter",M="pointer"),Gt=q==null?j:Yn(q),U=vt==null?j:Yn(vt),j=new gt(W,M+"leave",q,a,Z),j.target=Gt,j.relatedTarget=U,W=null,yi(Z)===z&&(gt=new gt(P,M+"enter",vt,a,Z),gt.target=U,gt.relatedTarget=Gt,W=gt),Gt=W,q&&vt)e:{for(gt=q,P=vt,M=0,U=gt;U;U=Ns(U))M++;for(U=0,W=P;W;W=Ns(W))U++;for(;0<M-U;)gt=Ns(gt),M--;for(;0<U-M;)P=Ns(P),U--;for(;M--;){if(gt===P||P!==null&&gt===P.alternate)break e;gt=Ns(gt),P=Ns(P)}gt=null}else gt=null;q!==null&&By(J,j,q,gt,!1),vt!==null&&Gt!==null&&By(J,Gt,vt,gt,!0)}}t:{if(j=z?Yn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ut=ap;else if(be(j))if(sp)ut=RT;else{ut=AT;var Rt=ST}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&_o(z.elementType)&&(ut=ap):ut=wT;if(ut&&(ut=ut(e,z))){Ri(J,ut,a,Z);break t}Rt&&Rt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&rr(j,"number",j.value)}switch(Rt=z?Yn(z):window,e){case"focusin":(be(Rt)||Rt.contentEditable==="true")&&(os=Rt,Bf=z,Co=null);break;case"focusout":Co=Bf=os=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,mp(J,a,Z);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":mp(J,a,Z)}var ht;if(Jn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Dt?Y(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Dt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Dt&&(ht=Eo()):(Qn=Z,ar="value"in Qn?Qn.value:Qn.textContent,Dt=!0)),Rt=lc(z,yt),0<Rt.length&&(yt=new So(yt,e,null,a,Z),J.push({event:yt,listeners:Rt}),ht?yt.data=ht:(ht=at(a),ht!==null&&(yt.data=ht)))),(ht=m?Te(e,a):Nt(e,a))&&(yt=lc(z,"onBeforeInput"),0<yt.length&&(Rt=new So("onBeforeInput","beforeinput",null,a,Z),J.push({event:Rt,listeners:yt}),Rt.data=ht)),c1(J,e,z,a,Z)}Uy(J,n)})}function nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function lc(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ia(e,a),f!=null&&o.unshift(nl(e,f,d)),f=ia(e,n),f!=null&&o.push(nl(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,n,a,o,f){for(var d=n._reactName,v=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,f?(z=ia(a,d),z!=null&&v.unshift(nl(a,z,I))):f||(z=ia(a,d),z!=null&&v.push(nl(a,z,I)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var m1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(m1,`
`).replace(p1,"")}function jy(e,n){return n=Hy(n),Hy(e)===n}function uc(){}function Ft(e,n,a,o,f,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":$n(e,"class",o);break;case"tabIndex":$n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,o);break;case"style":yo(e,o,d);break;case"data":if(n!=="object"){$n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ft(e,n,"name",f.name,f,null),Ft(e,n,"formEncType",f.formEncType,f,null),Ft(e,n,"formMethod",f.formMethod,f,null),Ft(e,n,"formTarget",f.formTarget,f,null)):(Ft(e,n,"encType",f.encType,f,null),Ft(e,n,"method",f.method,f,null),Ft(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=uc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Wa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ir(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ir(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xf.get(a)||a,ir(e,a,o))}}function cd(e,n,a,o,f,d){switch(a){case"style":yo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ir(e,a,o)}}}function Le(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(e,n,d,v,a,null)}}f&&Ft(e,n,"srcSet",a.srcSet,a,null),o&&Ft(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=d=v=f=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":v=Z;break;case"checked":I=Z;break;case"defaultChecked":z=Z;break;case"value":d=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Ft(e,n,o,Z,a,null)}}ta(e,d,E,I,z,v,f,!1),Za(e);return;case"select":Ct("invalid",e),o=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Ft(e,n,f,E,a,null)}n=d,a=v,e.multiple=!!o,n!=null?Ei(e,!!o,n,!1):a!=null&&Ei(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),d=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(e,n,v,E,a,null)}ea(e,o,f,d),Za(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ft(e,n,I,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Ct(el[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(e,n,z,o,a,null)}return;default:if(_o(n)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&cd(e,n,Z,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ft(e,n,E,o,a,null))}function g1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,E=null,I=null,z=null,Z=null;for(q in a){var J=a[q];if(a.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(q)||Ft(e,n,q,null,o,J)}}for(var j in o){var q=o[j];if(J=a[j],o.hasOwnProperty(j)&&(q!=null||J!=null))switch(j){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":Z=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==J&&Ft(e,n,j,q,o,J)}}un(e,v,E,I,z,Z,d,f);return;case"select":q=v=E=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(d)||Ft(e,n,d,null,o,I)}for(f in o)if(d=o[f],I=a[f],o.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&Ft(e,n,f,d,o,I)}n=E,a=v,o=q,j!=null?Ei(e,!!a,j,!1):!!o!=!!a&&(n!=null?Ei(e,!!a,n,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(e,n,E,null,o,f)}for(v in o)if(f=o[v],d=a[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ft(e,n,v,f,o,d)}jt(e,j,q);return;case"option":for(var vt in a)if(j=a[vt],a.hasOwnProperty(vt)&&j!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Ft(e,n,vt,null,o,j)}for(I in o)if(j=o[I],q=a[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ft(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Ft(e,n,gt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Ft(e,n,z,j,o,q)}return;default:if(_o(n)){for(var Gt in a)j=a[Gt],a.hasOwnProperty(Gt)&&j!==void 0&&!o.hasOwnProperty(Gt)&&cd(e,n,Gt,void 0,o,j);for(Z in o)j=o[Z],q=a[Z],!o.hasOwnProperty(Z)||j===q||j===void 0&&q===void 0||cd(e,n,Z,j,o,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!o.hasOwnProperty(P)&&Ft(e,n,P,null,o,j);for(J in o)j=o[J],q=a[J],!o.hasOwnProperty(J)||j===q||j==null&&q==null||Ft(e,n,J,j,o,q)}var fd=null,hd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function y1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(E1)}:Gy;function E1(e){setTimeout(function(){throw e})}function Tr(e){return e==="head"}function $y(e,n){var a=n,o=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&il(v.documentElement),a&2&&il(v.body),a&4)for(a=v.head,il(a),v=a.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[Xr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(f===0){e.removeChild(d),fl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);fl(n)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function T1(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function b1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function S1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var yd=null;function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Qy(e,n,a){switch(n=cc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);nr(e)}var On=new Map,Xy=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=st.d;st.d={f:A1,r:w1,D:R1,C:I1,L:C1,m:O1,X:N1,S:D1,M:M1};function A1(){var e=zi.f(),n=nc();return e||n}function w1(e){var n=Gn(e);n!==null&&n.tag===5&&n.type==="form"?gg(n):zi.r(e)}var Ms=typeof document>"u"?null:document;function Zy(e,n,a){var o=Ms;if(o&&typeof n=="string"&&n){var f=me(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xy.has(f)||(Xy.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Le(n,"link",e),ce(n),o.head.appendChild(n)))}}function R1(e){zi.D(e),Zy("dns-prefetch",e,null)}function I1(e,n){zi.C(e,n),Zy("preconnect",e,n)}function C1(e,n,a){zi.L(e,n,a);var o=Ms;if(o&&e&&n){var f='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+me(a.imageSizes)+'"]')):f+='[href="'+me(e)+'"]';var d=f;switch(n){case"style":d=xs(e);break;case"script":d=Vs(e)}On.has(d)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),On.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(rl(d))||n==="script"&&o.querySelector(al(d))||(n=o.createElement("link"),Le(n,"link",e),ce(n),o.head.appendChild(n)))}}function O1(e,n){zi.m(e,n);var a=Ms;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vs(e)}if(!On.has(d)&&(e=T({rel:"modulepreload",href:e},n),On.set(d,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}o=a.createElement("link"),Le(o,"link",e),ce(o),a.head.appendChild(o)}}}function D1(e,n,a){zi.S(e,n,a);var o=Ms;if(o&&e){var f=Xe(o).hoistableStyles,d=xs(e);n=n||"default";var v=f.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(rl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=On.get(d))&&_d(e,a);var I=v=o.createElement("link");ce(I),Le(I,"link",e),I._p=new Promise(function(z,Z){I.onload=z,I.onerror=Z}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(d,v)}}}function N1(e,n){zi.X(e,n);var a=Ms;if(a&&e){var o=Xe(a).hoistableScripts,f=Vs(e),d=o.get(f);d||(d=a.querySelector(al(f)),d||(e=T({src:e,async:!0},n),(n=On.get(f))&&vd(e,n),d=a.createElement("script"),ce(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function M1(e,n){zi.M(e,n);var a=Ms;if(a&&e){var o=Xe(a).hoistableScripts,f=Vs(e),d=o.get(f);d||(d=a.querySelector(al(f)),d||(e=T({src:e,async:!0,type:"module"},n),(n=On.get(f))&&vd(e,n),d=a.createElement("script"),ce(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Wy(e,n,a,o){var f=(f=Et.current)?fc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=xs(a.href),a=Xe(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xs(a.href);var d=Xe(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(rl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||x1(f,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(a),a=Xe(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function xs(e){return'href="'+me(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function x1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",a),ce(n),e.head.appendChild(n))}function Vs(e){return'[src="'+me(e)+'"]'}function al(e){return"script[async]"+e}function t_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return n.instance=o,ce(o),o;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),Le(o,"style",f),hc(o,a.precedence,e),n.instance=o;case"stylesheet":f=xs(a.href);var d=e.querySelector(rl(f));if(d)return n.state.loading|=4,n.instance=d,ce(d),d;o=Jy(a),(f=On.get(f))&&_d(o,f),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Le(d,"link",o),n.state.loading|=4,hc(d,a.precedence,e),n.instance=d;case"script":return d=Vs(a.src),(f=e.querySelector(al(d)))?(n.instance=f,ce(f),f):(o=a,(f=On.get(d))&&(o=T({},a),vd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ce(f),Le(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,a.precedence,e));return n.instance}function hc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function e_(e,n,a){if(dc===null){var o=new Map,f=dc=new Map;f.set(a,o)}else f=dc,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Xr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function n_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function V1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function k1(){}function P1(e,n,a){if(sl===null)throw Error(s(475));var o=sl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=xs(a.href),d=e.querySelector(rl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=mc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,ce(d);return}d=e.ownerDocument||e,a=Jy(a),(f=On.get(f))&&_d(a,f),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Le(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=mc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function L1(){if(sl===null)throw Error(s(475));var e=sl;return e.stylesheets&&e.count===0&&Ed(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Ed(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function Ed(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(U1,e),pc=null,mc.call(e))}function U1(e,n){if(!(n.state.loading&4)){var a=pc.get(e);if(a)var o=a.get(null);else{a=new Map,pc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,f),a.set(v,f),this.count++,o=mc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:X,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function z1(e,n,a,o,f,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function r_(e,n,a,o,f,d,v,E,I,z,Z,J){return e=new z1(e,n,a,v,E,I,z,J),n=1,d===!0&&(n|=24),d=fn(3,null,null,n),e.current=d,d.stateNode=e,n=eh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},ah(d),e}function a_(e){return e?(e=fs,e):fs}function s_(e,n,a,o,f,d){f=a_(f),o.context===null?o.context=f:o.pendingContext=f,o=lr(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ur(e,o,n),a!==null&&(gn(a,e,n),Lo(a,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Td(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13){var n=cs(e,67108864);n!==null&&gn(n,e,67108864),Td(e,67108864)}}var gc=!0;function B1(e,n,a,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=2,bd(e,n,a,o)}finally{st.p=d,Q.T=f}}function H1(e,n,a,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=8,bd(e,n,a,o)}finally{st.p=d,Q.T=f}}function bd(e,n,a,o){if(gc){var f=Sd(o);if(f===null)ud(e,n,o,yc,a),c_(e,o);else if(q1(f,e,n,a,o))o.stopPropagation();else if(c_(e,o),n&4&&-1<j1.indexOf(e)){for(;f!==null;){var d=Gn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-je(v);E.entanglements[1]|=I,v&=~I}ai(d),(Bt&6)===0&&(tc=yn()+500,tl(0))}}break;case 13:E=cs(d,2),E!==null&&gn(E,d,2),nc(),Td(d,2)}if(d=Sd(o),d===null&&ud(e,n,o,yc,a),d===f)break;f=d}f!==null&&o.stopPropagation()}else ud(e,n,o,null,a)}}function Sd(e){return e=En(e),Ad(e)}var yc=null;function Ad(e){if(yc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function u_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(If()){case ro:return 2;case qa:return 8;case Gr:case Cf:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var wd=!1,br=null,Sr=null,Ar=null,ll=new Map,ul=new Map,wr=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(e,n){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,a,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Gn(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function q1(e,n,a,o,f){switch(n){case"focusin":return br=cl(br,e,n,a,o,f),!0;case"dragenter":return Sr=cl(Sr,e,n,a,o,f),!0;case"mouseover":return Ar=cl(Ar,e,n,a,o,f),!0;case"pointerover":var d=f.pointerId;return ll.set(d,cl(ll.get(d)||null,e,n,a,o,f)),!0;case"gotpointercapture":return d=f.pointerId,ul.set(d,cl(ul.get(d)||null,e,n,a,o,f)),!0}return!1}function f_(e){var n=yi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,nu(e.priority,function(){if(a.tag===13){var o=pn();o=Ji(o);var f=cs(a,o);f!==null&&gn(f,a,o),Td(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ti=o,a.target.dispatchEvent(o),Ti=null}else return n=Gn(a),n!==null&&l_(n),e.blockedOn=a,!1;n.shift()}return!0}function h_(e,n,a){_c(e)&&a.delete(n)}function F1(){wd=!1,br!==null&&_c(br)&&(br=null),Sr!==null&&_c(Sr)&&(Sr=null),Ar!==null&&_c(Ar)&&(Ar=null),ll.forEach(h_),ul.forEach(h_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,F1)))}var Ec=null;function d_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Ad(o||a)===null)continue;break}var d=Gn(a);d!==null&&(e.splice(n,3),n-=3,Ah(d,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function fl(e){function n(I){return vc(I,e)}br!==null&&vc(br,e),Sr!==null&&vc(Sr,e),Ar!==null&&vc(Ar,e),ll.forEach(n),ul.forEach(n);for(var a=0;a<wr.length;a++){var o=wr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],d=a[o+1],v=f[de]||null;if(typeof d=="function")v||d_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[de]||null)E=v.formAction;else if(Ad(f)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),d_(a)}}}function Rd(e){this._internalRoot=e}Tc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=pn();s_(a,o,e,n,null,null)},Tc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),nc(),n[_n]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<wr.length&&n!==0&&n<wr[a].priority;a++);wr.splice(a,0,e),a===0&&f_(e)}};var m_=t.version;if(m_!=="19.1.0")throw Error(s(527,m_,"19.1.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var G1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{se=bc.inject(G1),zt=bc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",f=Dg,d=Ng,v=Mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=r_(e,1,!1,null,null,a,o,f,d,v,E,null),e[_n]=n.current,ld(e),new Rd(n)},dl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,f="",d=Dg,v=Ng,E=Mg,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=r_(e,1,!0,n,a??null,o,f,d,v,E,I,z),n.context=a_(null),a=n.current,o=pn(),o=Ji(o),f=lr(o),f.callback=null,ur(a,f,o),a=o,n.current.lanes=a,gi(n,a),ai(n),e[_n]=n.current,ld(e),new Tc(n)},dl.version="19.1.0",dl}var A_;function nb(){if(A_)return Od.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=eb(),Od.exports}var FO=nb();const ib=()=>{};var w_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},rb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],h=r[i++],p=r[i++],g=((l&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],h=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],h=l+1<r.length,p=h?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,H=y&63;g||(H=64,h||(w=64)),s.push(i[T],i[A],i[w],i[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Zv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new ab;const w=c<<2|p>>4;if(s.push(w),y!==64){const H=p<<4&240|y>>2;if(s.push(H),A!==64){const V=y<<6&192|A;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sb=function(r){const t=Zv(r);return Wv.encodeByteArray(t,!0)},jc=function(r){return sb(r).replace(/\./g,"")},Jv=function(r){try{return Wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=()=>ob().__FIREBASE_DEFAULTS__,ub=()=>{if(typeof process>"u"||typeof w_>"u")return;const r=w_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Jv(r[1]);return t&&JSON.parse(t)},cf=()=>{try{return ib()||lb()||ub()||cb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t0=r=>{var t,i;return(i=(t=cf())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},fb=r=>{const t=t0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},e0=()=>{var r;return(r=cf())===null||r===void 0?void 0:r.config},n0=r=>{var t;return(t=cf())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jc(JSON.stringify(i)),jc(JSON.stringify(h)),""].join(".")}const El={};function mb(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function pb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let R_=!1;function r0(r,t){if(typeof window>"u"||typeof document>"u"||!Xs(window.location.host)||El[r]===t||El[r]||R_)return;El[r]=t;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=mb().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,H){w.setAttribute("width","24"),w.setAttribute("id",H),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{R_=!0,h()},w}function T(w,H){w.setAttribute("id",H),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=pb(s),H=i("text"),V=document.getElementById(H)||document.createElement("span"),G=i("learnmore"),F=document.getElementById(G)||document.createElement("a"),B=i("preprendIcon"),K=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;p(X),T(F,G);const rt=y();g(K,B),X.append(K,V,F,rt),document.body.appendChild(X)}c?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function yb(){var r;const t=(r=cf())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tb(){const r=Qe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bb(){return!yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="FirebaseError";class Zi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=wb,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],h=c?Rb(c,s):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new Zi(l,p,s)}}function Rb(r,t){return r.replace(Ib,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Ib=/\{\$([^}]+)}/g;function Cb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Da(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],h=t[l];if(I_(c)&&I_(h)){if(!Da(c,h))return!1}else if(c!==h)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function I_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function Ob(r,t){const i=new Db(r,t);return i.subscribe.bind(i)}class Db{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");Nb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Na{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new hb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vb(t))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wa){return this.instances.has(t)}getOptions(t=wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&t(h,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wa){return this.component?this.component.multipleInstances?t:wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(r){return r===wa?void 0:r}function Vb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Mb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Pb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Lb=Ot.INFO,Ub={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},zb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Ub[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Bb=(r,t)=>t.some(i=>r instanceof i);let C_,O_;function Hb(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jb(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Gd=new WeakMap,s0=new WeakMap,Vd=new WeakMap,Em=new WeakMap;function qb(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(Mr(r.result)),l()},h=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&a0.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function Fb(r){if(Gd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),l()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Gd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||s0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Gb(r){Yd=r(Yd)}function Yb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(kd(this),t,...i);return s0.set(s,t.sort?t.sort():[t]),Mr(s)}:jb().includes(r)?function(...t){return r.apply(kd(this),t),Mr(a0.get(this))}:function(...t){return Mr(r.apply(kd(this),t))}}function $b(r){return typeof r=="function"?Yb(r):(r instanceof IDBTransaction&&Fb(r),Bb(r,Hb())?new Proxy(r,Yd):r)}function Mr(r){if(r instanceof IDBRequest)return qb(r);if(Vd.has(r))return Vd.get(r);const t=$b(r);return t!==r&&(Vd.set(r,t),Em.set(t,r)),t}const kd=r=>Em.get(r);function Kb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const h=indexedDB.open(r,t),p=Mr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Mr(h.result),g.oldVersion,g.newVersion,Mr(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Qb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],Pd=new Map;function D_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Xb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Qb.includes(i)))return;const c=async function(h,...p){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return Pd.set(t,c),c}Gb(r=>({...r,get:(t,i,s)=>D_(t,i)||r.get(t,i,s),has:(t,i)=>!!D_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Wb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Wb(r){const t=r.getComponent();return t?.type==="VERSION"}const $d="@firebase/app",N_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new vm("@firebase/app"),Jb="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",rS="@firebase/auth",aS="@firebase/auth-compat",sS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",fS="@firebase/installations",hS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",pS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",bS="@firebase/ai",SS="@firebase/firestore-compat",AS="firebase",wS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",RS={[$d]:"fire-core",[Jb]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[rS]:"fire-auth",[aS]:"fire-auth-compat",[sS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[fS]:"fire-iid",[hS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[pS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[SS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,IS=new Map,Qd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function qs(r){const t=r.name;if(Qd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const i of qc.values())M_(i,r);for(const i of IS.values())M_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Pl("app","Firebase",CS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=wS;function DS(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Kd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(i||(i=e0()),!i)throw xr.create("no-options");const c=qc.get(l);if(c){if(Da(i,c.options)&&Da(s,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const h=new kb(l);for(const g of Qd.values())h.addComponent(g);const p=new OS(i,s,h);return qc.set(l,p),p}function o0(r=Kd){const t=qc.get(r);if(!t&&r===Kd&&e0())return DS();if(!t)throw xr.create("no-app",{appName:r});return t}function Vr(r,t,i){var s;let l=(s=RS[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(p.join(" "));return}qs(new Na(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebase-heartbeat-database",MS=1,Il="firebase-heartbeat-store";let Ld=null;function l0(){return Ld||(Ld=Kb(NS,MS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function xS(r){try{const i=(await l0()).transaction(Il),s=await i.objectStore(Il).get(u0(r));return await i.done,s}catch(t){if(t instanceof Zi)$i.warn(t.message);else{const i=xr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function x_(r,t){try{const s=(await l0()).transaction(Il,"readwrite");await s.objectStore(Il).put(t,u0(r)),await s.done}catch(i){if(i instanceof Zi)$i.warn(i.message);else{const s=xr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(s.message)}}}function u0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,kS=30;class PS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new US(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=V_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>kS){const h=zS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=V_(),{heartbeatsToSend:s,unsentEntries:l}=LS(this._heartbeatsCache.heartbeats),c=jc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return $i.warn(i),""}}}function V_(){return new Date().toISOString().substring(0,10)}function LS(r,t=VS){const i=[];let s=r.slice();for(const l of r){const c=i.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class US{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return x_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return x_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function k_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function zS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r){qs(new Na("platform-logger",t=>new Zb(t),"PRIVATE")),qs(new Na("heartbeat",t=>new PS(t),"PRIVATE")),Vr($d,N_,r),Vr($d,N_,"esm2017"),Vr("fire-js","")}BS("");var HS="firebase",jS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(HS,jS,"app");function bm(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(i[s[l]]=r[s[l]]);return i}function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=c0,f0=new Pl("auth","Firebase",c0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new vm("@firebase/auth");function FS(r,...t){Fc.logLevel<=Ot.WARN&&Fc.warn(`Auth (${Zs}): ${r}`,...t)}function Nc(r,...t){Fc.logLevel<=Ot.ERROR&&Fc.error(`Auth (${Zs}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r,...t){throw Sm(r,...t)}function oi(r,...t){return Sm(r,...t)}function h0(r,t,i){const s=Object.assign(Object.assign({},qS()),{[t]:i});return new Pl("auth","Firebase",s).create(t,{appName:r.name})}function ji(r){return h0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return f0.create(r,...t)}function _t(r,t,...i){if(!r)throw Sm(t,...i)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function Ki(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function GS(){return P_()==="http:"||P_()==="https:"}function P_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||vb()||"connection"in navigator)?navigator.onLine:!0}function $S(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ki(i>t,"Short delay should be less than long delay!"),this.isMobile=gb()||Eb()}get(){return YS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XS=new Ul(3e4,6e4);function Br(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Hr(r,t,i,s,l={}){return m0(r,l,async()=>{let c={},h={};s&&(t==="GET"?h=s:c={body:JSON.stringify(s)});const p=Ll(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},c);return _b()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Xs(r.emulatorConfig.host)&&(y.credentials="include"),d0.fetch()(await p0(r,r.config.apiHost,i,p),y)})}async function m0(r,t,i){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},KS),t);try{const l=new WS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Sc(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Sc(r,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw h0(r,T,y);jn(r,T)}}catch(l){if(l instanceof Zi)throw l;jn(r,"network-request-failed",{message:String(l)})}}async function zl(r,t,i,s,l={}){const c=await Hr(r,t,i,s,l);return"mfaPendingCredential"in c&&jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,h=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return QS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function ZS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),XS.get())})}}function Sc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=oi(r,t,s);return l.customData._tokenResponse=i,l}function L_(r){return r!==void 0&&r.enterprise!==void 0}class JS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ZS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tA(r,t){return Hr(r,"GET","/v2/recaptchaConfig",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(r,t){return Hr(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return Hr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nA(r,t=!1){const i=en(r),s=await i.getIdToken(t),l=wm(s);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c?.sign_in_provider;return{claims:l,token:s,authTime:Tl(Ud(l.auth_time)),issuedAtTime:Tl(Ud(l.iat)),expirationTime:Tl(Ud(l.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function wm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function U_(r){const t=wm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Zi&&iA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(r){var t;const i=r.auth,s=await r.getIdToken(),l=await Cl(r,Gc(i,{idToken:s}));_t(l?.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const h=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?g0(c.providerUserInfo):[],p=sA(r.providerData,h),g=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!p?.length,T=g?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Zd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function aA(r){const t=en(r);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sA(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function g0(r){return r.map(t=>{var{providerId:i}=t,s=bm(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(r,t){const i=await m0(r,{},async()=>{const s=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,h=await p0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Xs(r.emulatorConfig.host)&&(g.credentials="include"),d0.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lA(r,t){return Hr(r,"POST","/v2/accounts:revokeToken",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=U_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await oA(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,h=new Us;return s&&(_t(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),h.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Us,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=bm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Zd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nA(this,t)}reload(){return aA(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Bn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(ji(this.auth));const t=await this.getIdToken();return await Cl(this,eA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,h,p,g,y,T;const A=(s=i.displayName)!==null&&s!==void 0?s:void 0,w=(l=i.email)!==null&&l!==void 0?l:void 0,H=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,V=(h=i.photoURL)!==null&&h!==void 0?h:void 0,G=(p=i.tenantId)!==null&&p!==void 0?p:void 0,F=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,B=(y=i.createdAt)!==null&&y!==void 0?y:void 0,K=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:X,emailVerified:rt,isAnonymous:ot,providerData:dt,stsTokenManager:O}=i;_t(X&&O,t,"internal-error");const S=Us.fromJSON(this.name,O);_t(typeof X=="string",t,"internal-error"),Ir(A,t.name),Ir(w,t.name),_t(typeof rt=="boolean",t,"internal-error"),_t(typeof ot=="boolean",t,"internal-error"),Ir(H,t.name),Ir(V,t.name),Ir(G,t.name),Ir(F,t.name),Ir(B,t.name),Ir(K,t.name);const R=new Bn({uid:X,auth:t,email:w,emailVerified:rt,displayName:A,isAnonymous:ot,photoURL:V,phoneNumber:H,tenantId:G,stsTokenManager:S,createdAt:B,lastLoginAt:K});return dt&&Array.isArray(dt)&&(R.providerData=dt.map(D=>Object.assign({},D))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new Us;l.updateFromServerResponse(i);const c=new Bn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?g0(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!c?.length,p=new Us;p.updateFromIdToken(s);const g=new Bn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function Hi(r){Ki(r instanceof Function,"Expected a class definition");let t=z_.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,z_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}y0.type="NONE";const B_=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class zs{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Bn._fromGetAccountInfoResponse(this.auth,i,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new zs(Hi(B_),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Hi(B_);const h=Mc(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(h);if(T){let A;if(typeof T=="string"){const w=await Gc(t,{idToken:T}).catch(()=>{});if(!w)break;A=await Bn._fromGetAccountInfoResponse(t,w,T)}else A=Bn._fromJSON(t,T);y!==c&&(p=A),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new zs(c,t,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new zs(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S0(t))return"Blackberry";if(A0(t))return"Webos";if(v0(t))return"Safari";if((t.includes("chrome/")||E0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function _0(r=Qe()){return/firefox\//i.test(r)}function v0(r=Qe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E0(r=Qe()){return/crios\//i.test(r)}function T0(r=Qe()){return/iemobile/i.test(r)}function b0(r=Qe()){return/android/i.test(r)}function S0(r=Qe()){return/blackberry/i.test(r)}function A0(r=Qe()){return/webos/i.test(r)}function Rm(r=Qe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uA(r=Qe()){var t;return Rm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cA(){return Tb()&&document.documentMode===10}function w0(r=Qe()){return Rm(r)||b0(r)||A0(r)||S0(r)||/windows phone/i.test(r)||T0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,t=[]){let i;switch(r){case"Browser":i=H_(Qe());break;case"Worker":i=`${H_(Qe())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Zs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((h,p)=>{try{const g=t(c);h(g)}catch(g){p(g)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(r,t={}){return Hr(r,"GET","/v2/passwordPolicy",Br(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=6;class mA{constructor(t){var i,s,l,c;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:dA,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,h,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new fA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Hi(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await zs.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Dn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===p)&&g?.user&&(l=g.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$S()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dn(this.app))return Promise.reject(ji(this));const i=t?en(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hA(this),i=new mA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await lA(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Hi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[Hi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,s,l);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i?.error&&FS(`Error while retrieving App Check token: ${i.error}`),i?.token}}function za(r){return en(r)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ob(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gA(r){ff=r}function I0(r){return ff.loadJS(r)}function yA(){return ff.recaptchaEnterpriseScript}function _A(){return ff.gapiScript}function vA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class EA{constructor(){this.enterprise=new TA}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class TA{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const bA="recaptcha-enterprise",C0="NO_RECAPTCHA";class SA{constructor(t){this.type=bA,this.auth=za(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{tA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new JS(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,h,p){const g=window.grecaptcha;L_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(y=>{h(y)}).catch(()=>{h(C0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EA().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!i&&L_(window.grecaptcha))l(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yA();g.length!==0&&(g+=p),I0(g).then(()=>{l(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function q_(r,t,i,s=!1,l=!1){const c=new SA(r);let h;if(l)h=C0;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const p=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wd(r,t,i,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await q_(r,t,i,i==="getOobCode");return s(r,h)}else return s(r,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await q_(r,t,i,i==="getOobCode");return s(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Da(c,t??{}))return l;jn(l,"already-initialized")}return i.initialize({options:t})}function wA(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Hi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function RA(r,t,i){const s=za(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=O0(t),{host:h,port:p}=IA(t),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},T=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Da(y,s.config.emulator)&&Da(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Xs(h)?(i0(`${c}//${h}${g}`),r0("Auth",!0)):CA()}function O0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function IA(r){const t=O0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:F_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:F_(h)}}}function F_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function CA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,i){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}async function OA(r,t){return Hr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(r,t){return zl(r,"POST","/v1/accounts:signInWithPassword",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(r,t){return zl(r,"POST","/v1/accounts:signInWithEmailLink",Br(r,t))}async function MA(r,t){return zl(r,"POST","/v1/accounts:signInWithEmailLink",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Im{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ol(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Ol(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,i,"signInWithPassword",DA);case"emailLink":return NA(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,s,"signUpPassword",OA);case"emailLink":return MA(t,{idToken:i,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(r,t){return zl(r,"POST","/v1/accounts:signInWithIdp",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="http://localhost";class Ma extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=bm(i,["providerId","signInMethod"]);if(!s||!l)return null;const h=new Ma(s,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Bs(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Bs(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Bs(t,i)}buildRequest(){const t={requestUri:xA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kA(r){const t=yl(_l(r)).link,i=t?yl(_l(t)).deep_link_id:null,s=yl(_l(r)).deep_link_id;return(s?yl(_l(s)).link:null)||s||i||t||r}class Cm{constructor(t){var i,s,l,c,h,p;const g=yl(_l(t)),y=(i=g.apiKey)!==null&&i!==void 0?i:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,A=VA((l=g.mode)!==null&&l!==void 0?l:null);_t(y&&T&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=T,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const i=kA(t);try{return new Cm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(t,i){return Ol._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Cm.parseLink(i);return _t(s,"argument-error"),Ol._fromEmailAndCode(t,s.code,s.tenantId)}}Ws.PROVIDER_ID="password";Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Bl{constructor(){super("facebook.com")}static credential(t){return Ma._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ma._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Or.credential(i,s)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Bl{constructor(){super("github.com")}static credential(t){return Ma._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Bl{constructor(){super("twitter.com")}static credential(t,i){return Ma._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Nr.credential(i,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r,t){return zl(r,"POST","/v1/accounts:signUp",Br(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Bn._fromIdTokenResponse(t,s,l),h=G_(s);return new xa({user:c,providerId:h,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=G_(s);return new xa({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function G_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Zi{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new $c(t,i,s,l)}}function N0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,s):c})}async function LA(r,t,i=!1){const s=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(r,t,i=!1){const{auth:s}=r;if(Dn(s.app))return Promise.reject(ji(s));const l="reauthenticate";try{const c=await Cl(r,N0(s,l,t,r),i);_t(c.idToken,s,"internal-error");const h=wm(c.idToken);_t(h,s,"internal-error");const{sub:p}=h;return _t(r.uid===p,s,"user-mismatch"),xa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(r,t,i=!1){if(Dn(r.app))return Promise.reject(ji(r));const s="signIn",l=await N0(r,s,t),c=await xa._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function zA(r,t){return M0(za(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(r){const t=za(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GO(r,t,i){if(Dn(r.app))return Promise.reject(ji(r));const s=za(r),h=await Wd(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&x0(r),g}),p=await xa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function YO(r,t,i){return Dn(r.app)?Promise.reject(ji(r)):zA(en(r),Ws.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&x0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(r,t){return en(r).setPersistence(t)}function BA(r,t,i,s){return en(r).onIdTokenChanged(t,i,s)}function HA(r,t,i){return en(r).beforeAuthStateChanged(t,i)}function KO(r,t,i,s){return en(r).onAuthStateChanged(t,i,s)}function QO(r){return en(r).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1e3,qA=10;class k0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);cA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qA):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},jA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}k0.type="LOCAL";const FA=k0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}P0.type="SESSION";const L0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new hf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,h=this.handlersMap[l];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(h).map(async y=>y(i.origin,c)),g=await GA(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Om("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function $A(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function KA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QA(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function XA(){return U0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firebaseLocalStorageDb",ZA=1,Qc="firebaseLocalStorage",B0="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function df(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function WA(){const r=indexedDB.deleteDatabase(z0);return new Hl(r).toPromise()}function Jd(){const r=indexedDB.open(z0,ZA);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qc,{keyPath:B0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qc)?t(s):(s.close(),await WA(),t(await Jd()))})})}async function Y_(r,t,i){const s=df(r,!0).put({[B0]:t,value:i});return new Hl(s).toPromise()}async function JA(r,t){const i=df(r,!1).get(t),s=await new Hl(i).toPromise();return s===void 0?null:s.value}function $_(r,t){const i=df(r,!0).delete(t);return new Hl(i).toPromise()}const tw=800,ew=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>ew)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(XA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await KA(),!this.activeServiceWorker)return;this.sender=new YA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await Y_(t,Kc,"1"),await $_(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Y_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>JA(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=df(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const nw=H0;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r,t){return t?Hi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Im{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Bs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function rw(r){return M0(r.auth,new Dm(r),r.bypassAuthState)}function aw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),UA(i,new Dm(r),r.bypassAuthState)}async function sw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),LA(i,new Dm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:h,type:p}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rw;case"linkViaPopup":case"linkViaRedirect":return sw;case"reauthViaPopup":case"reauthViaRedirect":return aw;default:jn(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Ul(2e3,1e4);class Ls extends j0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ow.get())};t()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="pendingRedirect",xc=new Map;class uw extends j0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const s=await cw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cw(r,t){const i=dw(t),s=hw(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function fw(r,t){xc.set(r._key(),t)}function hw(r){return Hi(r._redirectPersistence)}function dw(r){return Mc(lw,r.config.apiKey,r.name)}async function mw(r,t,i=!1){if(Dn(r.app))return Promise.reject(ji(r));const s=za(r),l=iw(s,t),h=await new uw(s,l,i).execute();return h&&!i&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=10*60*1e3;class gw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!q0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(oi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(t))}saveEventToCache(t){this.cachedEventUids.add(K_(t)),this.lastProcessedEventTime=Date.now()}}function K_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function q0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function yw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(r,t={}){return Hr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ew=/^https?/;async function Tw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await _w(r);for(const i of t)try{if(bw(i))return}catch{}jn(r,"unauthorized-domain")}function bw(r){const t=Xd(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===s}if(!Ew.test(i))return!1;if(vw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Ul(3e4,6e4);function Q_(){const r=li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Aw(r){return new Promise((t,i)=>{var s,l,c;function h(){Q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q_(),i(oi(r,"network-request-failed"))},timeout:Sw.get()})}if(!((l=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)h();else{const p=vA("iframefcb");return li()[p]=()=>{gapi.load?h():i(oi(r,"network-request-failed"))},I0(`${_A()}?onload=${p}`).catch(g=>i(g))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function ww(r){return Vc=Vc||Aw(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Ul(5e3,15e3),Iw="__/auth/iframe",Cw="emulator/auth/iframe",Ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,Cw):`https://${r.config.authDomain}/${Iw}`,s={apiKey:t.apiKey,appName:r.name,v:Zs},l=Dw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ll(s).slice(1)}`}async function Mw(r){const t=await ww(r),i=li().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Nw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ow,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const h=oi(r,"network-request-failed"),p=li().setTimeout(()=>{c(h)},Rw.get());function g(){li().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vw=500,kw=600,Pw="_blank",Lw="http://localhost";class X_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uw(r,t,i,s=Vw,l=kw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},xw),{width:s.toString(),height:l.toString(),top:c,left:h}),y=Qe().toLowerCase();i&&(p=E0(y)?Pw:i),_0(y)&&(t=t||Lw,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[H,V])=>`${w}${H}=${V},`,"");if(uA(y)&&p!=="_self")return zw(t||"",p),new X_(null);const A=window.open(t||"",p,T);_t(A,r,"popup-blocked");try{A.focus()}catch{}return new X_(A)}function zw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__/auth/handler",Hw="emulator/auth/handler",jw=encodeURIComponent("fac");async function Z_(r,t,i,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Zs,eventId:l};if(t instanceof D0){t.setDefaultLanguage(r.languageCode),h.providerId=t.providerId||"",Cb(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))h[T]=A}if(t instanceof Bl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),y=g?`#${jw}=${encodeURIComponent(g)}`:"";return`${qw(r)}?${Ll(p).slice(1)}${y}`}function qw({config:r}){return r.emulator?Am(r,Hw):`https://${r.authDomain}/${Bw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class Fw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=mw,this._overrideRedirectResult=fw}async _openPopup(t,i,s,l){var c;Ki((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await Z_(t,i,s,Xd(),l);return Uw(t,h,Om())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Z_(t,i,s,Xd(),l);return $A(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await Mw(t),s=new gw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{var c;const h=(c=l?.[0])===null||c===void 0?void 0:c[zd];h!==void 0&&i(!!h),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Tw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return w0()||v0()||Rm()}}const Gw=Fw;var W_="@firebase/auth",J_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kw(r){qs(new Na("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;_t(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(r)},y=new pA(s,l,c,g);return wA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),qs(new Na("auth-internal",t=>{const i=za(t.getProvider("auth").getImmediate());return(s=>new Yw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(W_,J_,$w(r)),Vr(W_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=5*60,Xw=n0("authIdTokenMaxAge")||Qw;let tv=null;const Zw=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Xw)return;const l=i?.token;tv!==l&&(tv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function XO(r=o0()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=AA(r,{popupRedirectResolver:Gw,persistence:[nw,FA,L0]}),s=n0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=Zw(c.toString());HA(i,h,()=>h(i.currentUser)),BA(i,p=>h(p))}}const l=t0("auth");return l&&RA(i,`http://${l}`),i}function Ww(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}gA({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=oi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",Ww().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kw("Browser");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nm;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,x,k){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return S.prototype[x].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)D[x]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(x=0;16>x;++x)D[x]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],x=O.g[2];var k=O.g[3],C=S+(k^R&(x^k))+D[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=k+(x^S&(R^x))+D[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(R^k&(S^R))+D[2]+606105819&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(S^x&(k^S))+D[3]+3250441966&4294967295,R=x+(C<<22&4294967295|C>>>10),C=S+(k^R&(x^k))+D[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(x^S&(R^x))+D[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(R^k&(S^R))+D[6]+2821735955&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(S^x&(k^S))+D[7]+4249261313&4294967295,R=x+(C<<22&4294967295|C>>>10),C=S+(k^R&(x^k))+D[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(x^S&(R^x))+D[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(R^k&(S^R))+D[10]+4294925233&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(S^x&(k^S))+D[11]+2304563134&4294967295,R=x+(C<<22&4294967295|C>>>10),C=S+(k^R&(x^k))+D[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(x^S&(R^x))+D[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(R^k&(S^R))+D[14]+2792965006&4294967295,x=k+(C<<17&4294967295|C>>>15),C=R+(S^x&(k^S))+D[15]+1236535329&4294967295,R=x+(C<<22&4294967295|C>>>10),C=S+(x^k&(R^x))+D[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(S^R))+D[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^R&(k^S))+D[11]+643717713&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(x^k))+D[0]+3921069994&4294967295,R=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(R^x))+D[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(S^R))+D[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^R&(k^S))+D[15]+3634488961&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(x^k))+D[4]+3889429448&4294967295,R=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(R^x))+D[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(S^R))+D[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^R&(k^S))+D[3]+4107603335&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(x^k))+D[8]+1163531501&4294967295,R=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(R^x))+D[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^x&(S^R))+D[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^R&(k^S))+D[7]+1735328473&4294967295,x=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(x^k))+D[12]+2368359562&4294967295,R=x+(C<<20&4294967295|C>>>12),C=S+(R^x^k)+D[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^x)+D[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^R)+D[11]+1839030562&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^S)+D[14]+4259657740&4294967295,R=x+(C<<23&4294967295|C>>>9),C=S+(R^x^k)+D[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^x)+D[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^R)+D[7]+4139469664&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^S)+D[10]+3200236656&4294967295,R=x+(C<<23&4294967295|C>>>9),C=S+(R^x^k)+D[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^x)+D[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^R)+D[3]+3572445317&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^S)+D[6]+76029189&4294967295,R=x+(C<<23&4294967295|C>>>9),C=S+(R^x^k)+D[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^x)+D[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^R)+D[15]+530742520&4294967295,x=k+(C<<16&4294967295|C>>>16),C=R+(x^k^S)+D[2]+3299628645&4294967295,R=x+(C<<23&4294967295|C>>>9),C=S+(x^(R|~k))+D[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~x))+D[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~R))+D[14]+2878612391&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~S))+D[5]+4237533241&4294967295,R=x+(C<<21&4294967295|C>>>11),C=S+(x^(R|~k))+D[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~x))+D[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~R))+D[10]+4293915773&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~S))+D[1]+2240044497&4294967295,R=x+(C<<21&4294967295|C>>>11),C=S+(x^(R|~k))+D[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~x))+D[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~R))+D[6]+2734768916&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~S))+D[13]+1309151649&4294967295,R=x+(C<<21&4294967295|C>>>11),C=S+(x^(R|~k))+D[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~x))+D[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~R))+D[2]+718787259&4294967295,x=k+(C<<15&4294967295|C>>>17),C=R+(k^(x|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,D=this.B,x=this.h,k=0;k<S;){if(x==0)for(;k<=R;)l(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<S;)if(D[x++]=O.charCodeAt(k++),x==this.blockSize){l(this,D),x=0;break}}else for(;k<S;)if(D[x++]=O[k++],x==this.blockSize){l(this,D),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)O[R++]=this.g[S]>>>D&255;return O};function c(O,S){var R=p;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function h(O,S){this.h=S;for(var R=[],D=!0,x=O.length-1;0<=x;x--){var k=O[x]|0;D&&k==S||(R[x]=k,D=!1)}this.g=R}var p={};function g(O){return-128<=O&&128>O?c(O,function(S){return new h([S|0],0>S?-1:0)}):new h([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return F(y(-O));for(var S=[],R=1,D=0;O>=R;D++)S[D]=O/R|0,R*=4294967296;return new h(S,0)}function T(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return F(T(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),D=A,x=0;x<O.length;x+=8){var k=Math.min(8,O.length-x),C=parseInt(O.substring(x,x+k),S);8>k?(k=y(Math.pow(S,k)),D=D.j(k).add(y(C))):(D=D.j(R),D=D.add(y(C)))}return D}var A=g(0),w=g(1),H=g(16777216);r=h.prototype,r.m=function(){if(G(this))return-F(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(G(this))return"-"+F(this).toString(O);for(var S=y(Math.pow(O,6)),R=this,D="";;){var x=rt(R,S).g;R=B(R,x.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=x,V(R))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=B(this,O),G(O)?-1:V(O)?0:1};function F(O){for(var S=O.g.length,R=[],D=0;D<S;D++)R[D]=~O.g[D];return new h(R,~O.h).add(w)}r.abs=function(){return G(this)?F(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0,x=0;x<=S;x++){var k=D+(this.i(x)&65535)+(O.i(x)&65535),C=(k>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);D=C>>>16,k&=65535,C&=65535,R[x]=C<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function B(O,S){return O.add(F(S))}r.j=function(O){if(V(this)||V(O))return A;if(G(this))return G(O)?F(this).j(F(O)):F(F(this).j(O));if(G(O))return F(this.j(F(O)));if(0>this.l(H)&&0>O.l(H))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<O.g.length;x++){var k=this.i(D)>>>16,C=this.i(D)&65535,ve=O.i(x)>>>16,Zt=O.i(x)&65535;R[2*D+2*x]+=C*Zt,K(R,2*D+2*x),R[2*D+2*x+1]+=k*Zt,K(R,2*D+2*x+1),R[2*D+2*x+1]+=C*ve,K(R,2*D+2*x+1),R[2*D+2*x+2]+=k*ve,K(R,2*D+2*x+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new h(R,0)};function K(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function X(O,S){this.g=O,this.h=S}function rt(O,S){if(V(S))throw Error("division by zero");if(V(O))return new X(A,A);if(G(O))return S=rt(F(O),S),new X(F(S.g),F(S.h));if(G(S))return S=rt(O,F(S)),new X(F(S.g),S.h);if(30<O.g.length){if(G(O)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,D=S;0>=D.l(O);)R=ot(R),D=ot(D);var x=dt(R,1),k=dt(D,1);for(D=dt(D,2),R=dt(R,2);!V(D);){var C=k.add(D);0>=C.l(O)&&(x=x.add(R),k=C),D=dt(D,1),R=dt(R,1)}return S=B(O,x.j(S)),new X(x,S)}for(x=A;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(R),C=k.j(S);G(C)||0<C.l(O);)R-=D,k=y(R),C=k.j(S);V(k)&&(k=w),x=x.add(k),O=B(O,C)}return new X(x,O)}r.A=function(O){return rt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&O.i(D);return new h(R,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|O.i(D);return new h(R,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^O.i(D);return new h(R,this.h^O.h)};function ot(O){for(var S=O.g.length+1,R=[],D=0;D<S;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new h(R,O.h)}function dt(O,S){var R=S>>5;S%=32;for(var D=O.g.length-R,x=[],k=0;k<D;k++)x[k]=0<S?O.i(k+R)>>>S|O.i(k+R+1)<<32-S:O.i(k+R);return new h(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=T,Nm=h}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,vl,G0,kc,tm,Y0,$0,K0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in _))break t;_=_[L]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,b=!1,L={next:function(){if(!b&&_<u.length){var Y=_++;return{value:m(Y,u[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function w(u,m,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,w.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function V(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,L,Y){for(var at=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)at[Dt-2]=arguments[Dt];return m.prototype[L].apply(b,at)}}function G(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function F(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const L=u.length||0,Y=b.length||0;u.length=L+Y;for(let at=0;at<Y;at++)u[L+at]=b[at]}else u.push(b)}}class B{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function rt(u){return rt[" "](u),u}rt[" "]=function(){};var ot=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function dt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(_ in b)u[_]=b[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function k(u){p.setTimeout(()=>{throw u},0)}function C(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,_){const b=Zt.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Zt=new B(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,Pt=new ve,N=()=>{const u=p.Promise.resolve(void 0);st=()=>{u.then(et)}};var et=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){k(_)}var m=Zt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ot){t:{try{rt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}V(wt,it);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function qn(u,m,_,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=L,this.key=++Kt,this.da=this.fa=!1}function Wi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,_,b,L){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var at=qr(u,m,b,L);return-1<at?(m=u[at],_||(m.fa=!1)):(m=new qn(m,this.src,Y,!!b,L),m.fa=_,u.push(m)),m};function jr(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],L=Array.prototype.indexOf.call(b,m,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(b,L,1),Y&&(Wi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,m,_,b){for(var L=0;L<u.length;++L){var Y=u[L];if(!Y.da&&Y.listener==m&&Y.capture==!!_&&Y.ha==b)return L}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),io={};function Jl(u,m,_,b,L){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Jl(u,m[Y],_,b,L);return null}return _=tu(_),u&&u[we]?u.K(m,_,y(b)?!!b.capture:!1,L):yn(u,m,_,!1,b,L)}function yn(u,m,_,b,L,Y){if(!m)throw Error("Invalid event type");var at=y(L)?!!L.capture:!!L,Dt=Fa(u);if(Dt||(u[Fr]=Dt=new mi(u)),_=Dt.add(m,_,b,at,Y),_.proxy)return _;if(b=If(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)pt||(L=at),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function If(){function u(_){return m.call(u.src,u.listener,_)}const m=Cf;return u}function ro(u,m,_,b,L){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)ro(u,m[Y],_,b,L);else b=y(b)?!!b.capture:!!b,_=tu(_),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],_=qr(Y,_,b,L),-1<_&&(Wi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qr(m,_,b,L)),(_=-1<u?m[u]:null)&&qa(_))}function qa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])jr(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(Gr(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Fa(m))?(jr(_,u),_.h==0&&(_.src=null,m[Fr]=null)):Wi(u)}}}function Gr(u){return u in io?io[u]:io[u]="on"+u}function Cf(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&qa(u),u=_.call(b,m)}return u}function Fa(u){return u=u[Fr],u instanceof mi?u:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function se(){lt.call(this),this.i=new mi(this),this.M=this,this.F=null}V(se,lt),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,_,b){ro(this,u,m,_,b)};function zt(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new it(m,u);else if(m instanceof it)m.target=m.target||u;else{var L=m;m=new it(b,u),D(m,L)}if(L=!0,_)for(var Y=_.length-1;0<=Y;Y--){var at=m.g=_[Y];L=ln(at,b,!0,m)&&L}if(at=m.g=u,L=ln(at,b,!0,m)&&L,L=ln(at,b,!1,m)&&L,_)for(Y=0;Y<_.length;Y++)at=m.g=_[Y],L=ln(at,b,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)Wi(_[b]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},se.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function ln(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,Y=0;Y<m.length;++Y){var at=m[Y];if(at&&!at.da&&at.capture==_){var Dt=at.listener,Te=at.ha||at.src;at.fa&&jr(u.i,at),L=Dt.call(Te,b)!==!1&&L}}return L&&!b.defaultPrevented}function je(u,m,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function eu(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Of extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){lt.call(this),this.h=u,this.g={}}V(Yr,lt);var $r=[];function Kr(u){dt(u.g,function(m,_){this.g.hasOwnProperty(_)&&qa(m)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Kr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=p.JSON.stringify,Ga=p.JSON.parse,Qr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function lo(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){it.call(this,"d")}V(gi,it);function uo(){it.call(this,"c")}V(uo,it);var Fn={},co=null;function Ji(){return co=co||new se}Fn.La="serverreachability";function Ya(u){it.call(this,Fn.La,u)}V(Ya,it);function tr(u){const m=Ji();zt(m,new Ya(m))}Fn.STAT_EVENT="statevent";function nu(u,m){it.call(this,Fn.STAT_EVENT,u),this.stat=m}V(nu,it);function Jt(u){const m=Ji();zt(m,new nu(m,u))}Fn.Ma="timingevent";function Ee(u,m){it.call(this,Fn.Ma,u),this.size=m}V(Ee,it);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function fo(u,m,_,b,L,Y){u.info(function(){if(u.g)if(Y)for(var at="",Dt=Y.split("&"),Te=0;Te<Dt.length;Te++){var Nt=Dt[Te].split("=");if(1<Nt.length){var Ie=Nt[0];Nt=Nt[1];var be=Ie.split("_");at=2<=be.length&&be[1]=="type"?at+(Ie+"="+Nt+"&"):at+(Ie+"=redacted&")}}else at=null;else at=Y;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+_+`
`+at})}function Df(u,m,_,b,L,Y,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+_+`
`+Y+" "+at})}function er(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,_)+(b?" "+b:"")})}function iu(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var at=1;at<L.length;at++)L[at]=""}}}}return Nn(_)}catch{return m}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Yn(){}V(Yn,so),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Gn=new Yn;function Xe(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var ho={},$a={};function Mn(u,m,_){u.L=1,u.v=ea(un(m)),u.m=_,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Zr(u),u.A=un(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),vo(_.i,"t",b),u.C=0,_=u.j.J,u.h=new ce,u.g=vu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Of(w(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&($r[0]=L.toString()),L=$r);for(var Y=0;Y<L.length;Y++){var at=Jl(_,L[Y],b||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),fo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const be=bn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||be!=4||m==7||(m==8||0>=Ri?tr(3):tr(2)),ir(this);var _=this.g.Z();this.X=_;e:if(ru(this)){var b=fu(this.g);u="";var L=b.length,Y=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),$n(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Y&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Df(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,Te=this.g;if((Dt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Dt)){var Nt=Dt;break e}}Nt=null}if(_=Nt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,_);else{this.o=!1,this.s=3,Jt(12),xe(this),$n(this);break t}}if(this.P){_=!0;let Ve;for(;!this.J&&this.C<at.length;)if(Ve=au(this,at),Ve==$a){be==4&&(this.s=4,Jt(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==ho){this.s=4,Jt(15),er(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Ve,null),Wr(this,Ve);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||at.length!=0||this.h.h||(this.s=1,Jt(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,at,"[Invalid Chunked Response]"),xe(this),$n(this);else if(0<at.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),ua(Ie),Ie.M=!0,Jt(11))}}else er(this.i,this.l,at,null),Wr(this,at);be==4&&xe(this),this.o&&!this.J&&(be==4?gu(this.j,this):(this.o=!1,Zr(this)))}else kf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),xe(this),$n(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function au(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?$a:(_=Number(m.substring(_,b)),isNaN(_)?ho:(b+=1,b+_>m.length?$a:(m=m.slice(b,b+_),u.C=b+_,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function Zr(u){u.S=Date.now()+u.I,su(u,u.I)}function su(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(w(u.ba,u),m)}function ir(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(iu(this.i,this.A),this.L!=2&&(tr(),Jt(17)),xe(this),this.s=2,$n(this)):su(this,this.S-u)};function $n(u){u.j.G==0||u.J||gu(u.j,u)}function xe(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||mo(_.h,u))){if(!u.K&&mo(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)as(_),is(_);else break t;Ao(_),Jt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(w(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((u.K||_.g==u)&&as(_),!K(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(_.T=Nt[0],Nt=Nt[1],_.G==2)if(Nt[0]=="c"){_.K=Nt[1],_.ia=Nt[2];const Ie=Nt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const be=Nt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Ri=Nt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(b=1.5*Ri,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ve=u.g;if(Ve){const ti=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var Y=b.h;Y.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Xa(Y,Y.h),Y.h=null))}if(b.D){const Ro=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(b.ya=Ro,jt(b.I,b.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=u;if(b.qa=_u(b,b.J?b.ia:null,b.W),at.K){Ze(b.h,at);var Dt=at,Te=b.L;Te&&(Dt.I=Te),Dt.B&&(ir(Dt),Zr(Dt)),b.g=at}else mu(b);0<_.i.length&&rs(_)}else Nt[0]!="stop"&&Nt[0]!="close"||wi(_,7);else _.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?wi(_,7):bo(_):Nt[0]!="noop"&&_.l&&_.l.ta(Nt),_.v=0)}}tr(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qa(u){return u.h?1:u.g?u.g.size:0}function mo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xa(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return G(u.i)}function Nf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function Za(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function go(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Za(u),b=Nf(u),L=b.length,Y=0;Y<L;Y++)m.call(void 0,b[Y],_&&_[Y],u)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mf(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),L=null;if(0<=b){var Y=u[_].substring(0,b);L=u[_].substring(b+1)}else Y=u[_];m(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,ta(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.s),this.l=u.l;var m=u.i,_=new Ti;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ei(this,_),this.m=u.m}else u&&(m=String(u).match(Jr))?(this.h=!1,ta(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),rr(this,m[4]),this.l=vn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(na(m,yo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(na(m,yo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(na(_,_.charAt(0)=="/"?xf:_o,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",na(_,Wa)),u.join("")};function un(u){return new me(u)}function ta(u,m,_){u.j=_?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,_){m instanceof Ti?(u.i=m,uu(u.i,u.h)):(_||(m=na(m,Vf)),u.i=new Ti(m,u.h))}function jt(u,m,_){u.i.set(m,_)}function ea(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,lu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,xf=/[#\?]/g,Vf=/[#\?@]/g,Wa=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Mf(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(u,m){En(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function bi(u,m){En(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return En(u),m=Kn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(_,b){_.forEach(function(L){u.call(m,L,b,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const L=u[b];for(let Y=0;Y<L.length;Y++)_.push(m[b])}return _},r.V=function(u){En(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return En(this),this.i=null,u=Kn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vo(u,m,_){bi(u,m),0<_.length&&(u.i=null,u.g.set(Kn(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const Y=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var L=Y;at[b]!==""&&(L+="="+encodeURIComponent(String(at[b]))),u.push(L)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uu(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,b){var L=b.toLowerCase();b!=L&&(bi(this,b),vo(this,L,_))},u)),u.j=m}function ia(u,m){const _=new _n;if(p.Image){const b=new Image;b.onload=H(Tn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=H(Tn,_,"TestLoadImage: error",!1,m,b),b.onabort=H(Tn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=H(Tn,_,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xn(u,m){const _=new _n,b=new AbortController,L=setTimeout(()=>{b.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Y=>{clearTimeout(L),Y.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(_)}catch{}}function ra(){this.g=new Qr}function Qn(u,m,_){const b=_||"";try{go(u,function(L,Y){let at=L;y(L)&&(at=Nn(L)),m.push(b+Y+"="+encodeURIComponent(at))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}V(ar,so),ar.prototype.g=function(){return new Ai(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ai,se),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):Zn(this),this.readyState==3&&Eo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function To(u){let m="";return dt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Re(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=To(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):jt(u,m,_))}function Ut(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ut,se);var Ja=/^https?$/i,aa=["POST","PUT"];r=Ut.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?oo(this.o):oo(Gn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){cu(this,Y);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)_.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(aa,m,void 0))||b||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,at]of _)this.g.setRequestHeader(Y,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){cu(this,Y)}};function cu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ts(u),Wn(u)}function ts(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,zt(this,"complete"),zt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Ut.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?es(this):this.bb())},r.bb=function(){es(this)};function es(u){if(u.h&&typeof h<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)je(u.Ea,0,u);else if(zt(u,"readystatechange"),bn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=at===0){var L=String(u.D).match(Jr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),b=!Ja.test(L?L.toLowerCase():"")}_=b}if(_)zt(u,"complete"),zt(u,"success");else{u.m=6;try{var Y=2<bn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",ts(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){sa(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||zt(u,"ready");try{_.onreadystatechange=b}catch{}}}function sa(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ga(m)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(K(u[b]))continue;var _=x(u[b]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=m[L]||[];m[L]=Y,Y.push(_)}O(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ns(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,u),this.cb=oa("retryDelaySeedMs",1e4,u),this.Wa=oa("forwardChannelMaxRetries",2,u),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ns.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,b){Jt(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=_u(this,null,this.W),rs(this)};function bo(u){if(hu(u),u.G==3){var m=u.U++,_=un(u.I);if(jt(_,"SID",u.K),jt(_,"RID",m),jt(_,"TYPE","terminate"),la(u,_),m=new Xe(u,u.j,m),m.L=2,m.v=ea(un(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}yu(u)}function is(u){u.g&&(ua(u),u.g.cancel(),u.g=null)}function hu(u){is(u),u.u&&(p.clearTimeout(u.u),u.u=null),as(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function rs(u){if(!Ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||N(),ft||(st(),ft=!0),Pt.add(m,u),u.B=0}}function Pf(u,m){return Qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(w(u.Ga,u,m),wo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xe(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=S(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),_=un(this.I),jt(_,"RID",u),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),la(this,_),Y&&(this.O?m="headers="+encodeURIComponent(String(To(Y)))+"&"+m:this.m&&Re(_,this.m,Y)),Xa(this.h,L),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",m),jt(_,"SID","null"),L.T=!0,Mn(L,_,null)):Mn(L,_,m),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Ka(this.h)||So(this))};function So(u,m){var _;m?_=m.l:_=u.U++;const b=un(u.I);jt(b,"SID",u.K),jt(b,"RID",_),jt(b,"AID",u.T),la(u,b),u.m&&u.o&&Re(b,u.m,u.o),_=new Xe(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=du(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xa(u.h,_),Mn(_,b,m)}function la(u,m){u.H&&dt(u.H,function(_,b){jt(m,b,_)}),u.l&&go({},function(_,b){jt(m,b,_)})}function du(u,m,_){_=Math.min(u.i.length,_);var b=u.l?w(u.l.Na,u.l,u):null;t:{var L=u.i;let Y=-1;for(;;){const at=["count="+_];Y==-1?0<_?(Y=L[0].g,at.push("ofs="+Y)):Y=0:at.push("ofs="+Y);let Dt=!0;for(let Te=0;Te<_;Te++){let Nt=L[Te].g;const Ie=L[Te].map;if(Nt-=Y,0>Nt)Y=Math.max(0,L[Te].g-100),Dt=!1;else try{Qn(Ie,at,"req"+Nt+"_")}catch{b&&b(Ie)}}if(Dt){b=at.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,b}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||N(),ft||(st(),ft=!0),Pt.add(m,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(w(u.Fa,u),wo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),is(this),pu(this))};function ua(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);jt(m,"RID","rpc"),jt(m,"SID",u.K),jt(m,"AID",u.T),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(m,"TO",u.ja),jt(m,"TYPE","xmlhttp"),la(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ea(un(m)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,is(this),Ao(this),Jt(19))};function as(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){as(u),ua(u),u.g=null;var b=2}else if(mo(u.h,m))_=m.D,Ze(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=Ji(),zt(b,new Ee(b,_)),rs(u)}else mu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&Pf(u,m)||b==2&&Ao(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function wo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var _=w(u.fb,u),b=u.Xa;const L=!b;b=new me(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ta(b,"https"),ea(b),L?ia(b.toString(),_):xn(b.toString(),_)}else Jt(2);u.G=0,u.l&&u.l.sa(m),yu(u),hu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function _u(u,m,_){var b=_ instanceof me?un(_):new me(_);if(b.g!="")m&&(b.g=m+"."+b.g),rr(b,b.s);else{var L=p.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var Y=new me(null);b&&ta(Y,b),m&&(Y.g=m),L&&rr(Y,L),_&&(Y.l=_),b=Y}return _=u.D,m=u.ya,_&&m&&jt(b,_,m),jt(b,"VER",u.la),la(u,b),b}function vu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ut(new ar({eb:_})):new Ut(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ss(){}ss.prototype.g=function(u,m){return new We(u,m)};function We(u,m){se.call(this),this.g=new ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}V(We,se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){bo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nn(u),u=_);m.i.push(new ou(m.Ya++,u)),m.G==3&&rs(m)},We.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,We.aa.N.call(this)};function Tu(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(Tu,gi);function bu(){uo.call(this),this.status=1}V(bu,uo);function Jn(u){this.g=u}V(Jn,Eu),Jn.prototype.ua=function(){zt(this.g,"a")},Jn.prototype.ta=function(u){zt(this.g,new Tu(u))},Jn.prototype.sa=function(u){zt(this.g,new bu)},Jn.prototype.ra=function(){zt(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,K0=function(){return new ss},$0=function(){return Ji()},Y0=Fn,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,kc=nr,yi.COMPLETE="complete",G0=yi,lo.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",se.prototype.listen=se.prototype.K,vl=lo,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,F0=Ut}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore",iv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new vm("@firebase/firestore");function ks(){return Va.logLevel}function ct(r,...t){if(Va.logLevel<=Ot.DEBUG){const i=t.map(Mm);Va.debug(`Firestore (${Js}): ${r}`,...i)}}function ka(r,...t){if(Va.logLevel<=Ot.ERROR){const i=t.map(Mm);Va.error(`Firestore (${Js}): ${r}`,...i)}}function Fs(r,...t){if(Va.logLevel<=Ot.WARN){const i=t.map(Mm);Va.warn(`Firestore (${Js}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Q0(r,s,i)}function Q0(r,t,i){let s=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ka(s),new Error(s)}function ue(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Q0(t,l,s)}function Xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Zi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class tR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class eR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ue(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ia,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},p=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ia)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ue(typeof s.accessToken=="string",31837,{l:s}),new X0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class nR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new nR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ue(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new rv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=aR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function em(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Vt(s,l);{const c=sR(),h=oR(c.encode(av(r,i)),c.encode(av(t,i)));return h!==0?h:Vt(s,l)}}i+=s>65535?2:1}return Vt(r.length,t.length)}function av(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function oR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Vt(r[i],t[i]);return Vt(r.length,t.length)}function Gs(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__name__";class si{constructor(t,i,s){i===void 0?i=0:i>t.length&&At(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&At(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const s=si.isNumericId(t),l=si.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?si.extractNumericId(t).compare(si.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nm.fromString(t.substring(4,t.length-2))}}class re extends si{construct(t,i,s){return new re(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new re(i)}static emptyPath(){return new re([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends si{construct(t,i,s){return new Be(t,i,s)}static isValidIdentifier(t){return lR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new Be([sv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new mt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new mt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new mt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(h=!h,l++):p!=="."||h?(s+=p,l++):(c(),l++)}if(c(),h)throw new mt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(re.fromString(t))}static fromName(t){return new bt(re.fromString(t).popFirst(5))}static empty(){return new bt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,t,i){if(!i)throw new mt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function uR(r,t,i,s){if(t===!0&&s===!0)throw new mt(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ov(r){if(!bt.isDocumentKey(r))throw new mt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lv(r){if(bt.isDocumentKey(r))throw new mt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function W0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function J0(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new mt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t){const i={typeString:r};return t&&(i.value=t),i}function jl(r,t){if(!W0(r))throw new mt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const h=r[s];if(l&&typeof h!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&h!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new mt(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*cv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<uv)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:_e("string",ne._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(t){return new ee(t)}static min(){return new ee(new ne(0,0))}static max(){return new ee(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function cR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ee.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Pr(l,bt.empty(),t)}function fR(r){return new Pr(r.readTime,r.key,Dl)}class Pr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Pr(ee.min(),bt.empty(),Dl)}static max(){return new Pr(ee.max(),bt.empty(),Dl)}}function hR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=bt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==dR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.reject(i)}static resolve(t){return new tt((i,s)=>{i(t)})}static reject(t){return new tt((i,s)=>{s(t)})}static waitFor(t){return new tt((i,s)=>{let l=0,c=0,h=!1;t.forEach(p=>{++l,p.next(()=>{++c,h&&c===l&&i()},g=>s(g))}),h=!0,c===l&&i()})}static or(t){let i=tt.resolve(!1);for(const s of t)i=i.next(l=>l?tt.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new tt((s,l)=>{const c=t.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(t[y]).next(T=>{h[y]=T,++p,p===c&&s(h)},T=>l(T))}})}static doWhile(t,i){return new tt((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function pR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ql(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Pm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Um(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function gR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="";function yR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=fv(t)),t=_R(r.get(i),t);return fv(t)}function _R(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case tE:i+="";break;default:i+=c}}return i}function fv(r){return r+tE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function to(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function eE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,i){this.comparator=t,this.root=i||Ue.EMPTY}insert(t,i){return new on(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(t){return new on(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ue{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ue.RED,this.left=l??Ue.EMPTY,this.right=c??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ue(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ue.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ue(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Hn([])}unionWith(t){let i=new He(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Hn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Gs(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vR("Invalid base64 string: "+c):c}}(t);return new ui(i)}static fromUint8Array(t){const i=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(t);return new ui(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const ER=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(r){if(ue(!!r,39018),typeof r=="string"){let t=0;const i=ER.exec(r);if(ue(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ze(r.seconds),nanos:ze(r.nanos)}}function ze(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ys(r){return typeof r=="string"?ui.fromBase64String(r):ui.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="server_timestamp",iE="__type__",rE="__previous_value__",aE="__local_write_time__";function zm(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[iE])===null||i===void 0?void 0:i.stringValue)===nE}function Bm(r){const t=r.mapValue.fields[rE];return zm(t)?Bm(t):t}function Zc(r){const t=Pa(r.mapValue.fields[aE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i,s,l,c,h,p,g,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Wc="(default)";class Jc{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Jc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__type__",bR="__max__",Rc={mapValue:{}},oE="__vector__",nm="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:AR(r)?9007199254740991:SR(r)?10:11:At(28295,{value:r})}function ci(r,t){if(r===t)return!0;const i=La(r);if(i!==La(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Zc(r).isEqual(Zc(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Pa(l.timestampValue),p=Pa(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Ys(l.bytesValue).isEqual(Ys(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ze(l.geoPointValue.latitude)===ze(c.geoPointValue.latitude)&&ze(l.geoPointValue.longitude)===ze(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ze(l.integerValue)===ze(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=ze(l.doubleValue),p=ze(c.doubleValue);return h===p?Xc(h)===Xc(p):isNaN(h)&&isNaN(p)}return!1}(r,t);case 9:return Gs(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},p=c.mapValue.fields||{};if(hv(h)!==hv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!ci(h[g],p[g])))return!1;return!0}(r,t);default:return At(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find(i=>ci(i,t))!==void 0}function $s(r,t){if(r===t)return 0;const i=La(r),s=La(t);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(c,h){const p=ze(c.integerValue||c.doubleValue),g=ze(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return mv(r.timestampValue,t.timestampValue);case 4:return mv(Zc(r),Zc(t));case 5:return em(r.stringValue,t.stringValue);case 6:return function(c,h){const p=Ys(c),g=Ys(h);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Vt(p[y],g[y]);if(T!==0)return T}return Vt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,h){const p=Vt(ze(c.latitude),ze(h.latitude));return p!==0?p:Vt(ze(c.longitude),ze(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return pv(r.arrayValue,t.arrayValue);case 10:return function(c,h){var p,g,y,T;const A=c.fields||{},w=h.fields||{},H=(p=A[nm])===null||p===void 0?void 0:p.arrayValue,V=(g=w[nm])===null||g===void 0?void 0:g.arrayValue,G=Vt(((y=H?.values)===null||y===void 0?void 0:y.length)||0,((T=V?.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:pv(H,V)}(r.mapValue,t.mapValue);case 11:return function(c,h){if(c===Rc.mapValue&&h===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(h===Rc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const w=em(g[A],T[A]);if(w!==0)return w;const H=$s(p[g[A]],y[T[A]]);if(H!==0)return H}return Vt(g.length,T.length)}(r.mapValue,t.mapValue);default:throw At(23264,{le:i})}}function mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=Pa(r),s=Pa(t),l=Vt(i.seconds,s.seconds);return l!==0?l:Vt(i.nanos,s.nanos)}function pv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=$s(i[l],s[l]);if(c)return c}return Vt(i.length,s.length)}function Ks(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Pa(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ys(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return bt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=im(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const h of s)c?c=!1:l+=",",l+=`${h}:${im(i.fields[h])}`;return l+"}"}(r.mapValue):At(61005,{value:r})}function Pc(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bm(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Pc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return to(s.fields,(c,h)=>{l+=c.length+Pc(h)}),l}(r.mapValue);default:throw At(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function Lc(r){return!!r&&"mapValue"in r}function SR(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[sE])===null||i===void 0?void 0:i.stringValue)===oE}function bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return to(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=bl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function AR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===bR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Be.emptyPath(),s={},l=[];t.forEach((h,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=p.popLast()}h?s[p.lastSegment()]=bl(h):l.push(p.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){to(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Un(bl(this.value))}}function lE(r){const t=[];return to(r.fields,(i,s)=>{const l=new Be([i]);if(Lc(s)){const c=lE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const h of c)t.push(l.child(h))}else t.push(l)}),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,i,s,l,c,h,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(t){return new Ln(t,0,ee.min(),ee.min(),ee.min(),Un.empty(),0)}static newFoundDocument(t,i,s,l){return new Ln(t,1,i,ee.min(),s,l,0)}static newNoDocument(t,i){return new Ln(t,2,i,ee.min(),ee.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Ln(t,3,i,ee.min(),ee.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,i){this.position=t,this.inclusive=i}}function gv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],h=r.position[l];if(c.field.isKeyField()?s=bt.comparator(bt.fromName(h.referenceValue),i.key):s=$s(h,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function yv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,i="asc"){this.field=t,this.dir=i}}function wR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{}class Me extends uE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new IR(t,i,s):i==="array-contains"?new DR(t,s):i==="in"?new NR(t,s):i==="not-in"?new MR(t,s):i==="array-contains-any"?new xR(t,s):new Me(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new CR(t,s):new OR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($s(i,this.value)):i!==null&&La(this.value)===La(i)&&this.matchesComparison($s(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends uE{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new Lr(t,i)}matches(t){return cE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function cE(r){return r.op==="and"}function fE(r){return RR(r)&&cE(r)}function RR(r){for(const t of r.filters)if(t instanceof Lr)return!1;return!0}function am(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Ks(r.value);if(fE(r))return r.filters.map(t=>am(t)).join(",");{const t=r.filters.map(i=>am(i)).join(",");return`${r.op}(${t})`}}function hE(r,t){return r instanceof Me?function(s,l){return l instanceof Me&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,t):r instanceof Lr?function(s,l){return l instanceof Lr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,h,p)=>c&&hE(h,l.filters[p]),!0):!1}(r,t):void At(19439)}function dE(r){return r instanceof Me?function(i){return`${i.field.canonicalString()} ${i.op} ${Ks(i.value)}`}(r):r instanceof Lr?function(i){return i.op.toString()+" {"+i.getFilters().map(dE).join(" ,")+"}"}(r):"Filter"}class IR extends Me{constructor(t,i,s){super(t,i,s),this.key=bt.fromName(s.referenceValue)}matches(t){const i=bt.comparator(t.key,this.key);return this.matchesComparison(i)}}class CR extends Me{constructor(t,i){super(t,"in",i),this.keys=mE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class OR extends Me{constructor(t,i){super(t,"not-in",i),this.keys=mE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function mE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>bt.fromName(s.referenceValue))}class DR extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Nl(i.arrayValue,this.value)}}class NR extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class MR extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class xR extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i=null,s=[],l=[],c=null,h=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=h,this.endAt=p,this.Pe=null}}function _v(r,t=null,i=[],s=[],l=null,c=null,h=null){return new VR(r,t,i,s,l,c,h)}function jm(r){const t=Xt(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>am(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Um(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ks(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ks(s)).join(",")),t.Pe=i}return t.Pe}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!wR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!hE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yv(r.startAt,t.startAt)&&yv(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,i=null,s=[],l=[],c=null,h="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kR(r,t,i,s,l,c,h,p){return new mf(r,t,i,s,l,c,h,p)}function PR(r){return new mf(r)}function vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LR(r){return r.collectionGroup!==null}function Sl(r){const t=Xt(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new He(Be.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new ef(c,s))}),i.has(Be.keyField().canonicalString())||t.Te.push(new ef(Be.keyField(),s))}return t.Te}function Ca(r){const t=Xt(r);return t.Ie||(t.Ie=UR(t,Sl(r))),t.Ie}function UR(r,t){if(r.limitType==="F")return _v(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new ef(l.field,c)});const i=r.endAt?new tf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tf(r.startAt.position,r.startAt.inclusive):null;return _v(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function sm(r,t,i){return new mf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function pE(r,t){return qm(Ca(r),Ca(t))&&r.limitType===t.limitType}function gE(r){return`${jm(Ca(r))}|lt:${r.limitType}`}function ml(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>dE(l)).join(", ")}]`),Um(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Ks(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Ks(l)).join(",")),`Target(${s})`}(Ca(r))}; limitType=${r.limitType})`}function Fm(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):bt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Sl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(h,p,g){const y=gv(h,p,g);return h.inclusive?y<=0:y<0}(s.startAt,Sl(s),l)||s.endAt&&!function(h,p,g){const y=gv(h,p,g);return h.inclusive?y>=0:y>0}(s.endAt,Sl(s),l))}(r,t)}function zR(r){return(t,i)=>{let s=!1;for(const l of Sl(r)){const c=BR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function BR(r,t,i){const s=r.field.isKeyField()?bt.comparator(t.key,i.key):function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?$s(g,y):At(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){to(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new on(bt.comparator);function nf(){return HR}const yE=new on(bt.comparator);function Ic(...r){let t=yE;for(const i of r)t=t.insert(i.key,i);return t}function _E(r){let t=yE;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Ra(){return Al()}function vE(){return Al()}function Al(){return new Ba(r=>r.toString(),(r,t)=>r.isEqual(t))}const jR=new on(bt.comparator),qR=new He(bt.comparator);function $e(...r){let t=qR;for(const i of r)t=t.add(i);return t}const FR=new He(Vt);function GR(){return FR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function EE(r){return{integerValue:""+r}}function YR(r,t){return gR(t)?EE(t):Gm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function $R(r,t,i){return r instanceof rf?function(l,c){const h={fields:{[iE]:{stringValue:nE},[aE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=Bm(c)),c&&(h.fields[rE]=c),{mapValue:h}}(i,t):r instanceof Ml?bE(r,t):r instanceof xl?SE(r,t):function(l,c){const h=TE(l,c),p=Ev(h)+Ev(l.Ee);return rm(h)&&rm(l.Ee)?EE(p):Gm(l.serializer,p)}(r,t)}function KR(r,t,i){return r instanceof Ml?bE(r,t):r instanceof xl?SE(r,t):i}function TE(r,t){return r instanceof af?function(s){return rm(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class rf extends pf{}class Ml extends pf{constructor(t){super(),this.elements=t}}function bE(r,t){const i=AE(t);for(const s of r.elements)i.some(l=>ci(l,s))||i.push(s);return{arrayValue:{values:i}}}class xl extends pf{constructor(t){super(),this.elements=t}}function SE(r,t){let i=AE(t);for(const s of r.elements)i=i.filter(l=>!ci(l,s));return{arrayValue:{values:i}}}class af extends pf{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function Ev(r){return ze(r.integerValue||r.doubleValue)}function AE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function QR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Ml&&l instanceof Ml||s instanceof xl&&l instanceof xl?Gs(s.elements,l.elements,ci):s instanceof af&&l instanceof af?ci(s.Ee,l.Ee):s instanceof rf&&l instanceof rf}(r.transform,t.transform)}class XR{constructor(t,i){this.version=t,this.transformResults=i}}class qi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gf{}function wE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new IE(r.key,qi.none()):new Fl(r.key,r.data,qi.none());{const i=r.data,s=Un.empty();let l=new He(Be.comparator);for(let c of t.fields)if(!l.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?s.delete(c):s.set(c,h),l=l.add(c)}return new Ha(r.key,s,new Hn(l.toArray()),qi.none())}}function ZR(r,t,i){r instanceof Fl?function(l,c,h){const p=l.value.clone(),g=bv(l.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,t,i):r instanceof Ha?function(l,c,h){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(h.version);const p=bv(l.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(RE(l)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,t,i):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function wl(r,t,i,s){return r instanceof Fl?function(c,h,p,g){if(!Uc(c.precondition,h))return p;const y=c.value.clone(),T=Sv(c.fieldTransforms,g,h);return y.setAll(T),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof Ha?function(c,h,p,g){if(!Uc(c.precondition,h))return p;const y=Sv(c.fieldTransforms,g,h),T=h.data;return T.setAll(RE(c)),T.setAll(y),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(r,t,i,s):function(c,h,p){return Uc(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(r,t,i)}function WR(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=TE(s.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(s.field,c))}return i||null}function Tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Gs(s,l,(c,h)=>QR(c,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends gf{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ha extends gf{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function bv(r,t,i){const s=new Map;ue(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let l=0;l<i.length;l++){const c=r[l],h=c.transform,p=t.data.field(c.field);s.set(c.field,KR(h,p,i[l]))}return s}function Sv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,h=i.data.field(l.field);s.set(l.field,$R(c,h,t))}return s}class IE extends gf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends gf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ZR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=wl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=wl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=vE();return this.mutations.forEach(l=>{const c=t.get(l.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=i.has(l.key)?null:p;const g=wE(h,p);g!==null&&s.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(ee.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),$e())}isEqual(t){return this.batchId===t.batchId&&Gs(this.mutations,t.mutations,(i,s)=>Tv(i,s))&&Gs(this.baseMutations,t.baseMutations,(i,s)=>Tv(i,s))}}class Ym{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){ue(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return jR}();const c=t.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,s[h].version);return new Ym(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function n2(r){switch(r){case nt.OK:return At(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function i2(r){if(r===void 0)return ka("GRPC error has no .code"),nt.UNKNOWN;switch(r){case ye.OK:return nt.OK;case ye.CANCELLED:return nt.CANCELLED;case ye.UNKNOWN:return nt.UNKNOWN;case ye.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ye.INTERNAL:return nt.INTERNAL;case ye.UNAVAILABLE:return nt.UNAVAILABLE;case ye.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ye.NOT_FOUND:return nt.NOT_FOUND;case ye.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ye.ABORTED:return nt.ABORTED;case ye.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ye.DATA_LOSS:return nt.DATA_LOSS;default:return At(39323,{code:r})}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Nm([4294967295,4294967295],0);class r2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a2(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function s2(r,t){return om(r,t.toTimestamp())}function Hs(r){return ue(!!r,49232),ee.fromTimestamp(function(i){const s=Pa(i);return new ne(s.seconds,s.nanos)}(r))}function CE(r,t){return lm(r,t).canonicalString()}function lm(r,t){const i=function(l){return new re(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function o2(r){const t=re.fromString(r);return ue(p2(t),10190,{key:t.toString()}),t}function um(r,t){return CE(r.databaseId,t.path)}function l2(r){const t=o2(r);return t.length===4?re.emptyPath():c2(t)}function u2(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function c2(r){return ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Av(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function f2(r,t){let i;if(t instanceof Fl)i={update:Av(r,t.key,t.value)};else if(t instanceof IE)i={delete:um(r,t.key)};else if(t instanceof Ha)i={update:Av(r,t.key,t.data),updateMask:m2(t.fieldMask)};else{if(!(t instanceof JR))return At(16599,{Rt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,h){const p=h.transform;if(p instanceof rf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof af)return{fieldPath:h.field.canonicalString(),increment:p.Ee};throw At(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:s2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)}(r,t.precondition)),i}function h2(r,t){return r&&r.length>0?(ue(t!==void 0,14353),r.map(i=>function(l,c){let h=l.updateTime?Hs(l.updateTime):Hs(c);return h.isEqual(ee.min())&&(h=Hs(c)),new XR(h,l.transformResults||[])}(i,t))):[]}function d2(r){let t=l2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){ue(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=function(A){const w=OE(A);return w instanceof Lr&&fE(w)?w.getFilters():[w]}(i.where));let h=[];i.orderBy&&(h=function(A){return A.map(w=>function(V){return new ef(Ps(V.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(w))}(i.orderBy));let p=null;i.limit&&(p=function(A){let w;return w=typeof A=="object"?A.value:A,Um(w)?null:w}(i.limit));let g=null;i.startAt&&(g=function(A){const w=!!A.before,H=A.values||[];return new tf(H,w)}(i.startAt));let y=null;return i.endAt&&(y=function(A){const w=!A.before,H=A.values||[];return new tf(H,w)}(i.endAt)),kR(t,l,h,c,p,"F",g,y)}function OE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ps(i.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ps(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ps(i.unaryFilter.field);return Me.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(r):r.fieldFilter!==void 0?function(i){return Me.create(Ps(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Lr.create(i.compositeFilter.filters.map(s=>OE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(i.compositeFilter.op))}(r):At(30097,{filter:r})}function Ps(r){return Be.fromServerFormat(r.fieldPath)}function m2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function p2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.gt=t}}function y2(r){const t=d2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Dn=new v2}addToCollectionParentIndex(t,i){return this.Dn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Pr.min())}updateCollectionGroup(t,i,s){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class v2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new He(re.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new He(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(DE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Qs(0)}static ur(){return new Qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LruGarbageCollector",E2=1048576;function Iv([r,t],[i,s]){const l=Vt(r,i);return l===0?Vt(t,s):l}class T2{constructor(t){this.Tr=t,this.buffer=new He(Iv),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Iv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(Rv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ql(i)?ct(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await km(i)}await this.Rr(3e5)})}}class S2{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Pm.ue);const s=new T2(i);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(wv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,l,c,h,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(s=A,p=Date.now(),this.removeTargets(t,s,i))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),ks()<=Ot.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${l} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function A2(r,t){return new S2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new Ba(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&wl(s.mutation,l,Hn.empty(),ne.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,$e()).next(()=>s))}getLocalViewOfDocuments(t,i,s=$e()){const l=Ra();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let h=Ic();return c.forEach((p,g)=>{h=h.insert(p,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const s=Ra();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,$e()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((h,p)=>{i.set(h,p)})})}computeViews(t,i,s,l){let c=nf();const h=Al(),p=function(){return Al()}();return i.forEach((g,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ha)?c=c.insert(y.key,y):T!==void 0?(h.set(y.key,T.mutation.getFieldMask()),wl(T.mutation,y,T.mutation.getFieldMask(),ne.now())):h.set(y.key,Hn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((y,T)=>h.set(y,T)),i.forEach((y,T)=>{var A;return p.set(y,new R2(T,(A=h.get(y))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(t,i){const s=Al();let l=new on((h,p)=>h-p),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const p of h)p.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let T=s.get(g)||Hn.empty();T=p.applyToLocalView(y,T),s.set(g,T);const A=(l.get(p.batchId)||$e()).add(g);l=l.insert(p.batchId,A)})}).next(()=>{const h=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,A=vE();T.forEach(w=>{if(!c.has(w)){const H=wE(i.get(w),s.get(w));H!==null&&A.set(w,H),c=c.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,A))}return tt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(h){return bt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):LR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):tt.resolve(Ra());let p=Dl,g=c;return h.next(y=>tt.forEach(y,(T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(w=>{g=g.insert(T,w)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,g,y,$e())).next(T=>({batchId:p,changes:_E(T)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new bt(i)).next(s=>{let l=Ic();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let h=Ic();return this.indexManager.getCollectionParents(t,c).next(p=>tt.forEach(p,g=>{const y=function(A,w){return new mf(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(T=>{T.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(h=>{c.forEach((g,y)=>{const T=y.getKey();h.get(T)===null&&(h=h.insert(T,Ln.newInvalidDocument(T)))});let p=Ic();return h.forEach((g,y)=>{const T=c.get(g);T!==void 0&&wl(T.mutation,y,Hn.empty(),ne.now()),Fm(i,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Hs(l.createTime)}}(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(l){return{name:l.name,query:y2(l.bundledQuery),readTime:Hs(l.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.overlays=new on(bt.comparator),this.kr=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ra();return tt.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.wt(t,i,c)}),tt.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),tt.resolve()}getOverlaysForCollection(t,i,s){const l=Ra(),c=i.length+1,h=new bt(i.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new on((y,T)=>y-T);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Ra(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Ra(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>p.set(y,T)),!(p.size()>=l)););return tt.resolve(p)}wt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const h=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new e2(i,s));let c=this.kr.get(i);c===void 0&&(c=$e(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=ui.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.qr=new He(Ne.Qr),this.$r=new He(Ne.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new Ne(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Wr(new Ne(t,i))}Gr(t,i){t.forEach(s=>this.removeReference(s,i))}zr(t){const i=new bt(new re([])),s=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.$r.forEachInRange([s,l],h=>{this.Wr(h),c.push(h.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new bt(new re([])),s=new Ne(i,t),l=new Ne(i,t+1);let c=$e();return this.$r.forEachInRange([s,l],h=>{c=c.add(h.key)}),c}containsKey(t){const i=new Ne(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return bt.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||bt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new He(Ne.Qr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new t2(c,i,s,l);this.mutationQueue.push(h);for(const p of l)this.Yr=this.Yr.add(new Ne(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,i){return tt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Lm:this.er-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],h=>{const p=this.Zr(h.Hr);c.push(p)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new He(Vt);return i.forEach(l=>{const c=new Ne(l,0),h=new Ne(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,h],p=>{s=s.add(p.Hr)})}),tt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;bt.isDocumentKey(c)||(c=c.child(""));const h=new Ne(new bt(c),0);let p=new He(Vt);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)},h),tt.resolve(this.ei(p))}ei(t){const i=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){ue(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return tt.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,i){const s=new Ne(i,0),l=this.Yr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.ni=t,this.docs=function(){return new on(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,h=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Ln.newInvalidDocument(i))}getEntries(t,i){let s=nf();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ln.newInvalidDocument(l))}),tt.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=nf();const h=i.path,p=new bt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||hR(fR(T),s)<=0||(l.has(T.key)||Fm(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(t,i,s,l){At(9500)}ri(t,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new x2(this)}getSize(t){return tt.resolve(this.size)}}class x2 extends w2{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),tt.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.persistence=t,this.ii=new Ba(i=>jm(i),qm),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new $m,this.targetCount=0,this._i=Qs.ar()}forEachTarget(t,i){return this.ii.forEach((s,l)=>i(l)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),tt.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Qs(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.hr(i),tt.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ii.forEach((h,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ii.delete(h),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)}),tt.waitFor(c).next(()=>l)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return tt.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),tt.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(h=>{c.push(l.markPotentiallyOrphaned(t,h))}),tt.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return tt.resolve(s)}containsKey(t,i){return tt.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i){this.ai={},this.overlays={},this.ui=new Pm(0),this.ci=!1,this.ci=!0,this.li=new D2,this.referenceDelegate=t(this),this.hi=new V2(this),this.indexManager=new _2,this.remoteDocumentCache=function(l){return new M2(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new g2(i),this.Ti=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new O2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new N2(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new k2(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,i){return tt.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,i)))}}class k2 extends mR{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ai=new $m,this.Ri=null}static Vi(t){return new Km(t)}get mi(){if(this.Ri)return this.Ri;throw At(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),tt.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.mi,s=>{const l=bt.fromPath(s);return this.fi(t,l).next(c=>{c||i.removeEntry(l,ee.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return tt.or([()=>tt.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sf{constructor(t,i){this.persistence=t,this.gi=new Ba(s=>yR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=A2(this,i)}static Vi(t,i){return new sf(t,i)}Ii(){}di(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}yr(t){let i=0;return this.gr(t,s=>{i++}).next(()=>i)}gr(t,i){return tt.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(c=>c?tt.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,h=>this.Sr(t,h,i).next(p=>{p||(s++,c.removeEntry(h,ee.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),tt.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}Sr(t,i,s){return tt.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return tt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=l}static Es(t,i){let s=$e(),l=$e();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return bb()?8:pR(Qe())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ps(t,i).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ys(t,i,l,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new P2;return this.ws(t,i,h).next(p=>{if(c.result=p,this.Rs)return this.Ss(t,i,h,p.size)})}).next(()=>c.result)}Ss(t,i,s,l){return s.documentReadCount<this.Vs?(ks()<=Ot.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ml(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(ks()<=Ot.DEBUG&&ct("QueryEngine","Query:",ml(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(ks()<=Ot.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ml(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ca(i))):tt.resolve())}ps(t,i){if(vv(i))return tt.resolve(null);let s=Ca(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=sm(i,null,"F"),s=Ca(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const h=$e(...c);return this.gs.getDocuments(t,h).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.bs(i,p);return this.Ds(i,y,h,g.readTime)?this.ps(t,sm(i,null,"F")):this.vs(t,y,i,g)}))})))}ys(t,i,s,l){return vv(i)||l.isEqual(ee.min())?tt.resolve(null):this.gs.getDocuments(t,s).next(c=>{const h=this.bs(i,c);return this.Ds(i,h,s,l)?tt.resolve(null):(ks()<=Ot.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ml(i)),this.vs(t,h,i,cR(l,Dl)).next(p=>p))})}bs(t,i){let s=new He(zR(t));return i.forEach((l,c)=>{Fm(t,c)&&(s=s.add(c))}),s}Ds(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,i,s){return ks()<=Ot.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ml(i)),this.gs.getDocumentsMatchingQuery(t,i,Pr.min(),s)}vs(t,i,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="LocalStore";class z2{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new on(Vt),this.Ms=new Ba(c=>jm(c),qm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function B2(r,t,i,s){return new z2(r,t,i,s)}async function ME(r,t){const i=Xt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],p=[];let g=$e();for(const y of l){h.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:p}))})})}function H2(r,t){const i=Xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,T){const A=y.batch,w=A.keys();let H=tt.resolve();return w.forEach(V=>{H=H.next(()=>T.getEntry(g,V)).next(G=>{const F=y.docVersions.get(V);ue(F!==null,48541),G.version.compareTo(F)<0&&(A.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),T.addEntry(G)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(g,A))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=$e();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function j2(r){const t=Xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function q2(r,t){const i=Xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}class Cv{constructor(){this.activeTargetIds=GR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class F2{constructor(){this.Fo=new Cv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Cv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Dv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function cm(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const h=cm(),p=this.Go(t,i.toUriEncodedString());ct(Bd,`Sending RPC '${t}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,l,c);const{host:y}=new URL(p),T=Xs(y);return this.jo(t,p,g,s,T).then(A=>(ct(Bd,`Received RPC '${t}' ${h}: `,A),A),A=>{throw Fs(Bd,`RPC '${t}' ${h} failed with error: `,A,"url: ",p,"request:",s),A})}Jo(t,i,s,l,c,h){return this.Wo(t,i,s,l,c)}zo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}Go(t,i){const s=Y2[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Q2 extends $2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,l,c){const h=cm();return new Promise((p,g)=>{const y=new F0;y.setWithCredentials(!0),y.listenOnce(G0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const A=y.getResponseJson();ct(Ge,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),p(A);break;case kc.TIMEOUT:ct(Ge,`RPC '${t}' ${h} timed out`),g(new mt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const w=y.getStatus();if(ct(Ge,`RPC '${t}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const V=H?.error;if(V&&V.status&&V.message){const G=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(K)>=0?K:nt.UNKNOWN}(V.status);g(new mt(G,V.message))}else g(new mt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new mt(nt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{c_:t,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ct(Ge,`RPC '${t}' ${h} completed.`)}});const T=JSON.stringify(l);ct(Ge,`RPC '${t}' ${h} sending request:`,l),y.send(i,"POST",T,s,15)})}P_(t,i,s){const l=cm(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=K0(),p=$0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const T=c.join("");ct(Ge,`Creating RPC '${t}' stream ${l}: ${T}`,g);const A=h.createWebChannel(T,g);this.T_(A);let w=!1,H=!1;const V=new K2({Ho:F=>{H?ct(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,F):(w||(ct(Ge,`Opening RPC '${t}' stream ${l} transport.`),A.open(),w=!0),ct(Ge,`RPC '${t}' stream ${l} sending:`,F),A.send(F))},Yo:()=>A.close()}),G=(F,B,K)=>{F.listen(B,X=>{try{K(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return G(A,vl.EventType.OPEN,()=>{H||(ct(Ge,`RPC '${t}' stream ${l} transport opened.`),V.s_())}),G(A,vl.EventType.CLOSE,()=>{H||(H=!0,ct(Ge,`RPC '${t}' stream ${l} transport closed`),V.__(),this.I_(A))}),G(A,vl.EventType.ERROR,F=>{H||(H=!0,Fs(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),V.__(new mt(nt.UNAVAILABLE,"The operation could not be completed")))}),G(A,vl.EventType.MESSAGE,F=>{var B;if(!H){const K=F.data[0];ue(!!K,16349);const X=K,rt=X?.error||((B=X[0])===null||B===void 0?void 0:B.error);if(rt){ct(Ge,`RPC '${t}' stream ${l} received error:`,rt);const ot=rt.status;let dt=function(R){const D=ye[R];if(D!==void 0)return i2(D)}(ot),O=rt.message;dt===void 0&&(dt=nt.INTERNAL,O="Unknown error status: "+ot+" with message "+rt.message),H=!0,V.__(new mt(dt,O)),A.close()}else ct(Ge,`RPC '${t}' stream ${l} received:`,K),V.a_(K)}}),G(p,Y0.STAT_EVENT,F=>{F.stat===tm.PROXY?ct(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):F.stat===tm.NOPROXY&&ct(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{V.o_()},0),V}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r){return new r2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class X2{constructor(t,i,s,l,c,h,p,g){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xE(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(ka(i.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===i&&this.W_(s,l)},s=>{t(()=>{const l=new mt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ct(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(ct(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z2 extends X2{constructor(t,i,s,l,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,h),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return ue(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ue(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){ue(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=h2(t.writeResults,t.commitTime),s=Hs(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=u2(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>f2(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{}class J2 extends W2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(t,lm(i,s),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(nt.UNKNOWN,c.toString())})}Jo(t,i,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Jo(t,lm(i,s),l,h,p,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(nt.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class tI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ka(i),this._a=!1):ct("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="RemoteStore";class eI{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{$l(this)&&(ct(Gl,"Restarting streams for network reachability change."),await async function(g){const y=Xt(g);y.Ia.add(4),await Yl(y),y.Aa.set("Unknown"),y.Ia.delete(4),await _f(y)}(this))})}),this.Aa=new tI(s,l)}}async function _f(r){if($l(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function $l(r){return Xt(r).Ia.size===0}async function VE(r,t,i){if(!ql(t))throw t;r.Ia.add(1),await Yl(r),r.Aa.set("Offline"),i||(i=()=>j2(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Gl,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await _f(r)})}function kE(r,t){return t().catch(i=>VE(r,i,t))}async function vf(r){const t=Xt(r),i=Ur(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Lm;for(;nI(t);)try{const l=await q2(t.localStore,s);if(l===null){t.Pa.length===0&&i.B_();break}s=l.batchId,iI(t,l)}catch(l){await VE(t,l)}PE(t)&&LE(t)}function nI(r){return $l(r)&&r.Pa.length<10}function iI(r,t){r.Pa.push(t);const i=Ur(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function PE(r){return $l(r)&&!Ur(r).M_()&&r.Pa.length>0}function LE(r){Ur(r).start()}async function rI(r){Ur(r).na()}async function aI(r){const t=Ur(r);for(const i of r.Pa)t.X_(i.mutations)}async function sI(r,t,i){const s=r.Pa.shift(),l=Ym.from(s,t,i);await kE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await vf(r)}async function oI(r,t){t&&Ur(r).Z_&&await async function(s,l){if(function(h){return n2(h)&&h!==nt.ABORTED}(l.code)){const c=s.Pa.shift();Ur(s).N_(),await kE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await vf(s)}}(r,t),PE(r)&&LE(r)}async function Mv(r,t){const i=Xt(r);i.asyncQueue.verifyOperationInProgress(),ct(Gl,"RemoteStore received new credentials");const s=$l(i);i.Ia.add(3),await Yl(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await _f(i)}async function lI(r,t){const i=Xt(r);t?(i.Ia.delete(2),await _f(i)):t||(i.Ia.add(2),await Yl(i),i.Aa.set("Unknown"))}function Ur(r){return r.ma||(r.ma=function(i,s,l){const c=Xt(i);return c.ia(),new Z2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:rI.bind(null,r),n_:oI.bind(null,r),ea:aI.bind(null,r),ta:sI.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await vf(r)):(await r.ma.stop(),r.Pa.length>0&&(ct(Gl,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const h=Date.now()+s,p=new Xm(t,i,h,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(r,t){if(ka("AsyncQueue",`${t}: ${r}`),ql(r))return new mt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}class uI{constructor(){this.queries=xv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const l=Xt(i),c=l.queries;l.queries=xv(),c.forEach((h,p)=>{for(const g of p.wa)g.onError(s)})})(this,new mt(nt.ABORTED,"Firestore shutting down"))}}function xv(){return new Ba(r=>gE(r),pE)}function cI(r){r.Da.forEach(t=>{t.next()})}var Vv,kv;(kv=Vv||(Vv={})).Fa="default",kv.Cache="cache";const fI="SyncEngine";class hI{constructor(t,i,s,l,c,h){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ba(p=>gE(p),pE),this.Tu=new Map,this.Iu=new Set,this.du=new on(bt.comparator),this.Eu=new Map,this.Au=new $m,this.Ru={},this.Vu=new Map,this.mu=Qs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function dI(r,t,i){const s=yI(r);try{const l=await function(h,p){const g=Xt(h),y=ne.now(),T=p.reduce((H,V)=>H.add(V.key),$e());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let V=nf(),G=$e();return g.Os.getEntries(H,T).next(F=>{V=F,V.forEach((B,K)=>{K.isValidDocument()||(G=G.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,V)).next(F=>{A=F;const B=[];for(const K of p){const X=WR(K,A.get(K.key).overlayedDocument);X!=null&&B.push(new Ha(K.key,X,lE(X.value.mapValue),qi.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,B,p)}).next(F=>{w=F;const B=F.applyToLocalDocumentSet(A,G);return g.documentOverlayCache.saveOverlays(H,F.batchId,B)})}).then(()=>({batchId:w.batchId,changes:_E(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(h,p,g){let y=h.Ru[h.currentUser.toKey()];y||(y=new on(Vt)),y=y.insert(p,g),h.Ru[h.currentUser.toKey()]=y}(s,l.batchId,i),await Ef(s,l.changes),await vf(s.remoteStore)}catch(l){const c=UE(l,"Failed to persist write");i.reject(c)}}function Pv(r,t,i){const s=Xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Pu.forEach((c,h)=>{const p=h.view.va(t);p.snapshot&&l.push(p.snapshot)}),function(h,p){const g=Xt(h);g.onlineState=p;let y=!1;g.queries.forEach((T,A)=>{for(const w of A.wa)w.va(p)&&(y=!0)}),y&&cI(g)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function mI(r,t){const i=Xt(r),s=t.batch.batchId;try{const l=await H2(i.localStore,t);BE(i,s,null),zE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ef(i,l)}catch(l){await km(l)}}async function pI(r,t,i){const s=Xt(r);try{const l=await function(h,p){const g=Xt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next(A=>(ue(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(s.localStore,t);BE(s,t,i),zE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ef(s,l)}catch(l){await km(l)}}function zE(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function BE(r,t,i){const s=Xt(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}async function Ef(r,t,i){const s=Xt(r),l=[],c=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{h.push(s.gu(g,t,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:(T=void 0)===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Qm.Es(g.targetId,y);c.push(A)}}))}),await Promise.all(h),s.hu.J_(l),await async function(g,y){const T=Xt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>tt.forEach(y,w=>tt.forEach(w.Is,H=>T.persistence.referenceDelegate.addReference(A,w.targetId,H)).next(()=>tt.forEach(w.ds,H=>T.persistence.referenceDelegate.removeReference(A,w.targetId,H)))))}catch(A){if(!ql(A))throw A;ct(U2,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const H=T.Fs.get(w),V=H.snapshotVersion,G=H.withLastLimboFreeSnapshotVersion(V);T.Fs=T.Fs.insert(w,G)}}}(s.localStore,c))}async function gI(r,t){const i=Xt(r);if(!i.currentUser.isEqual(t)){ct(fI,"User change. New user:",t.toKey());const s=await ME(i.localStore,t);i.currentUser=t,function(c,h){c.Vu.forEach(p=>{p.forEach(g=>{g.reject(new mt(nt.CANCELLED,h))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ef(i,s.Bs)}}function yI(r){const t=Xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,t),t}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return B2(this.persistence,new L2,t.initialUser,this.serializer)}Du(t){return new NE(Km.Vi,this.serializer)}bu(t){return new F2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class _I extends of{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){ue(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new b2(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new NE(s=>sf.Vi(s,i),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await lI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uI}()}createDatastore(t){const i=yf(t.databaseInfo.databaseId),s=function(c){return new Q2(c)}(t.databaseInfo);return function(c,h,p,g){return new J2(c,h,p,g)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,h,p){return new eI(s,l,c,h,p)}(this.localStore,this.datastore,t.asyncQueue,i=>Pv(this.syncEngine,i,0),function(){return Dv.C()?new Dv:new G2}())}createSyncEngine(t,i){return function(l,c,h,p,g,y,T){const A=new hI(l,c,h,p,g,y);return T&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Xt(l);ct(Gl,"RemoteStore shutting down."),c.Ia.add(5),await Yl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class vI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{ct(zr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ct(zr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=UE(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(zr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await ME(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{Fs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Fs("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function Lv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await EI(r);ct(zr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Mv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Mv(t.remoteStore,l)),r._onlineComponents=t}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(zr,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Fs("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new of)}}else ct(zr,"Using default OfflineComponentProvider"),await jd(r,new _I(void 0));return r._offlineComponents}async function TI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(zr,"Using user provided OnlineComponentProvider"),await Lv(r,r._uninitializedComponentsProvider._online)):(ct(zr,"Using default OnlineComponentProvider"),await Lv(r,new fm))),r._onlineComponents}function bI(r){return TI(r).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firestore.googleapis.com",zv=!0;class Bv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=zv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E2)throw new mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tf{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Jw;switch(s.type){case"firstParty":return new iR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Uv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),Uv.delete(i),s.terminate())}(this),Promise.resolve()}}function SI(r,t,i,s={}){var l;r=J0(r,Tf);const c=Xs(t),h=r._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c&&(i0(`https://${g}`),r0("Firestore",!0)),h.host!==jE&&h.host!==g&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:s});if(!Da(y,p)&&(r._setSettings(y),s.mockUserToken)){let T,A;if(typeof s.mockUserToken=="string")T=s.mockUserToken,A=Ye.MOCK_USER;else{T=db(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new mt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(w)}r._authCredentials=new tR(new X0(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zm(this.firestore,t,this._query)}}class Ke{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(jl(i,Ke._jsonSchema))return new Ke(t,s||null,new bt(re.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:_e("string",Ke._jsonSchemaVersion),referencePath:_e("string")};class kr extends Zm{constructor(t,i,s){super(t,i,PR(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new bt(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function WO(r,t,...i){if(r=en(r),Z0("collection","path",t),r instanceof Tf){const s=re.fromString(t,...i);return lv(s),new kr(r,null,s)}{if(!(r instanceof Ke||r instanceof kr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return lv(s),new kr(r.firestore,null,s)}}function AI(r,t,...i){if(r=en(r),arguments.length===1&&(t=xm.newId()),Z0("doc","path",t),r instanceof Tf){const s=re.fromString(t,...i);return ov(s),new Ke(r,null,new bt(s))}{if(!(r instanceof Ke||r instanceof kr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return ov(s),new Ke(r.firestore,r instanceof kr?r.converter:null,new bt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class jv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xE(this,"async_queue_retry"),this.oc=()=>{const s=Hd();s&&ct(Hv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ia;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!ql(t))throw t;ct(Hv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,ka("INTERNAL UNHANDLED ERROR: ",qv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&At(47125,{hc:qv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class qE extends Tf{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function JO(r,t){const i=typeof r=="object"?r:o0(),s=typeof r=="string"?r:Wc,l=Tm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=fb("firestore");c&&SI(l,...c)}return l}function wI(r){if(r._terminated)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RI(r),r._firestoreClient}function RI(r){var t,i,s;const l=r._freezeSettings(),c=function(p,g,y,T){return new TR(p,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,HE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new vI(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(ui.fromBase64String(t))}catch(i){throw new mt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:_e("string",zn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(jl(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:_e("string",Fi._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new Gi(t.vectorValues);throw new mt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:_e("string",Gi._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^__.*__$/;class CI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ha(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}function GE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ec:r})}}class Jm{constructor(t,i,s,l,c,h){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Jm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return lf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(GE(this.Ec)&&II.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class OI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||yf(t)}Dc(t,i,s,l=!1){return new Jm({Ec:t,methodName:i,bc:s,path:Be.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DI(r){const t=r._freezeSettings(),i=yf(r._databaseId);return new OI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function NI(r,t,i,s,l,c={}){const h=r.Dc(c.merge||c.mergeFields?2:0,t,i,l);QE("Data must be an object, but it was:",h,s);const p=$E(s,h);let g,y;if(c.merge)g=new Hn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const w=MI(t,A,i);if(!h.contains(w))throw new mt(nt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VI(T,w)||T.push(w)}g=new Hn(T),y=h.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=h.fieldTransforms;return new CI(new Un(p),g,y)}function YE(r,t){if(KE(r=en(r)))return QE("Unsupported field value:",t,r),$E(r,t);if(r instanceof FE)return function(s,l){if(!GE(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const c=[];let h=0;for(const p of s){let g=YE(p,l.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:om(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:om(l.serializer,c)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:a2(l.serializer,s._byteString)};if(s instanceof Ke){const c=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw l.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:CE(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Gi)return function(h,p){return{mapValue:{fields:{[sE]:{stringValue:oE},[nm]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return Gm(p.serializer,y)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${Vm(s)}`)}(r,t)}function $E(r,t){const i={};return eE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):to(r,(s,l)=>{const c=YE(l,t.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function KE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Fi||r instanceof zn||r instanceof Ke||r instanceof FE||r instanceof Gi)}function QE(r,t,i){if(!KE(i)||!W0(i)){const s=Vm(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function MI(r,t,i){if((t=en(t))instanceof Wm)return t._internalPath;if(typeof t=="string")return XE(r,t);throw lf("Field path arguments must be of type string or ",r,!1,void 0,i)}const xI=new RegExp("[~\\*/\\[\\]]");function XE(r,t,i){if(t.search(xI)>=0)throw lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Wm(...t.split("."))._internalPath}catch{throw lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lf(r,t,i,s,l){const c=s&&!s.isEmpty(),h=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${l}`),g+=")"),new mt(nt.INVALID_ARGUMENT,p+r+g)}function VI(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(WE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kI extends ZE{data(){return super.data()}}function WE(r,t){return typeof t=="string"?XE(r,t):t instanceof Wm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Oc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends ZE{constructor(t,i,s,l,c,h){super(t,i,s,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(WE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=js._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:_e("string",js._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class zc extends js{data(t={}){return super.data(t)}}class Rl{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Oc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new zc(this._firestore,this._userDataWriter,s.key,s,new Oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(p=>{const g=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Oc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Oc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),T=h.indexOf(p.doc.key)),{type:LI(p.type),doc:g,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:_e("string",Rl._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};function tD(r,t){const i=J0(r.firestore,qE),s=AI(r),l=PI(r.converter,t);return UI(i,[NI(DI(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,qi.exists(!1))]).then(()=>s)}function UI(r,t){return function(s,l){const c=new Ia;return s.asyncQueue.enqueueAndForget(async()=>dI(await bI(s),l,c)),c.promise}(wI(r),t)}(function(t,i=!0){(function(l){Js=l})(Zs),qs(new Na("firestore",(s,{instanceIdentifier:l,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new qE(new eR(s.getProvider("auth-internal")),new rR(h,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(y.options.projectId,T)}(h,l),h);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Vr(nv,iv,t),Vr(nv,iv,"esm2017")})();function JE(r){var t,i,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(i=JE(r[t]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}function Oa(){for(var r,t,i=0,s="",l=arguments.length;i<l;i++)(r=arguments[i])&&(t=JE(r))&&(s&&(s+=" "),s+=t);return s}function zI(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}zI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Kl=r=>typeof r=="number"&&!isNaN(r),Ua=r=>typeof r=="string",Qi=r=>typeof r=="function",BI=r=>Ua(r)||Kl(r),hm=r=>Ua(r)||Qi(r)?r:null,HI=(r,t)=>r===!1||Kl(r)&&r>0?r:t,dm=r=>$.isValidElement(r)||Ua(r)||Qi(r)||Kl(r);function jI(r,t,i=300){let{scrollHeight:s,style:l}=r;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${i}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,i)})})}function qI({enter:r,exit:t,appendPosition:i=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:c,position:h,preventExitTransition:p,done:g,nodeRef:y,isIn:T,playToast:A}){let w=i?`${r}--${h}`:r,H=i?`${t}--${h}`:t,V=$.useRef(0);return $.useLayoutEffect(()=>{let G=y.current,F=w.split(" "),B=K=>{K.target===y.current&&(A(),G.removeEventListener("animationend",B),G.removeEventListener("animationcancel",B),V.current===0&&K.type!=="animationcancel"&&G.classList.remove(...F))};G.classList.add(...F),G.addEventListener("animationend",B),G.addEventListener("animationcancel",B)},[]),$.useEffect(()=>{let G=y.current,F=()=>{G.removeEventListener("animationend",F),s?jI(G,g,l):g()};T||(p?F():(V.current=1,G.className+=` ${H}`,G.addEventListener("animationend",F)))},[T]),Wt.createElement(Wt.Fragment,null,c)}}function Fv(r,t){return{content:tT(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function tT(r,t,i=!1){return $.isValidElement(r)&&!Ua(r.type)?$.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):Qi(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):r}function FI({closeToast:r,theme:t,ariaLabel:i="close"}){return Wt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":i},Wt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Wt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function GI({delay:r,isRunning:t,closeToast:i,type:s="default",hide:l,className:c,controlledProgress:h,progress:p,rtl:g,isIn:y,theme:T}){let A=l||h&&p===0,w={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};h&&(w.transform=`scaleX(${p})`);let H=Oa("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${T}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),V=Qi(c)?c({rtl:g,type:s,defaultClassName:H}):Oa(H,c),G={[h&&p>=1?"onTransitionEnd":"onAnimationEnd"]:h&&p<1?null:()=>{y&&i()}};return Wt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Wt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${T} Toastify__progress-bar--${s}`}),Wt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:V,style:w,...G}))}var YI=1,eT=()=>`${YI++}`;function $I(r,t,i){let s=1,l=0,c=[],h=[],p=t,g=new Map,y=new Set,T=K=>(y.add(K),()=>y.delete(K)),A=()=>{h=Array.from(g.values()),y.forEach(K=>K())},w=({containerId:K,toastId:X,updateId:rt})=>{let ot=K?K!==r:r!==1,dt=g.has(X)&&rt==null;return ot||dt},H=(K,X)=>{g.forEach(rt=>{var ot;(X==null||X===rt.props.toastId)&&((ot=rt.toggle)==null||ot.call(rt,K))})},V=K=>{var X,rt;(rt=(X=K.props)==null?void 0:X.onClose)==null||rt.call(X,K.removalReason),K.isActive=!1},G=K=>{if(K==null)g.forEach(V);else{let X=g.get(K);X&&V(X)}A()},F=()=>{l-=c.length,c=[]},B=K=>{var X,rt;let{toastId:ot,updateId:dt}=K.props,O=dt==null;K.staleId&&g.delete(K.staleId),K.isActive=!0,g.set(ot,K),A(),i(Fv(K,O?"added":"updated")),O&&((rt=(X=K.props).onOpen)==null||rt.call(X))};return{id:r,props:p,observe:T,toggle:H,removeToast:G,toasts:g,clearQueue:F,buildToast:(K,X)=>{if(w(X))return;let{toastId:rt,updateId:ot,data:dt,staleId:O,delay:S}=X,R=ot==null;R&&l++;let D={...p,style:p.toastStyle,key:s++,...Object.fromEntries(Object.entries(X).filter(([k,C])=>C!=null)),toastId:rt,updateId:ot,data:dt,isIn:!1,className:hm(X.className||p.toastClassName),progressClassName:hm(X.progressClassName||p.progressClassName),autoClose:X.isLoading?!1:HI(X.autoClose,p.autoClose),closeToast(k){g.get(rt).removalReason=k,G(rt)},deleteToast(){let k=g.get(rt);if(k!=null){if(i(Fv(k,"removed")),g.delete(rt),l--,l<0&&(l=0),c.length>0){B(c.shift());return}A()}}};D.closeButton=p.closeButton,X.closeButton===!1||dm(X.closeButton)?D.closeButton=X.closeButton:X.closeButton===!0&&(D.closeButton=dm(p.closeButton)?p.closeButton:!0);let x={content:K,props:D,staleId:O};p.limit&&p.limit>0&&l>p.limit&&R?c.push(x):Kl(S)?setTimeout(()=>{B(x)},S):B(x)},setProps(K){p=K},setToggle:(K,X)=>{let rt=g.get(K);rt&&(rt.toggle=X)},isToastActive:K=>{var X;return(X=g.get(K))==null?void 0:X.isActive},getSnapshot:()=>h}}var tn=new Map,Vl=[],mm=new Set,KI=r=>mm.forEach(t=>t(r)),nT=()=>tn.size>0;function QI(){Vl.forEach(r=>rT(r.content,r.options)),Vl=[]}var XI=(r,{containerId:t})=>{var i;return(i=tn.get(t||1))==null?void 0:i.toasts.get(r)};function iT(r,t){var i;if(t)return!!((i=tn.get(t))!=null&&i.isToastActive(r));let s=!1;return tn.forEach(l=>{l.isToastActive(r)&&(s=!0)}),s}function ZI(r){if(!nT()){Vl=Vl.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||BI(r))tn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=tn.get(r.containerId);t?t.removeToast(r.id):tn.forEach(i=>{i.removeToast(r.id)})}}var WI=(r={})=>{tn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function rT(r,t){dm(r)&&(nT()||Vl.push({content:r,options:t}),tn.forEach(i=>{i.buildToast(r,t)}))}function JI(r){var t;(t=tn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function aT(r,t){tn.forEach(i=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===i.id)&&i.toggle(r,t?.id)})}function tC(r){let t=r.containerId||1;return{subscribe(i){let s=$I(t,r,KI);tn.set(t,s);let l=s.observe(i);return QI(),()=>{l(),tn.delete(t)}},setProps(i){var s;(s=tn.get(t))==null||s.setProps(i)},getSnapshot(){var i;return(i=tn.get(t))==null?void 0:i.getSnapshot()}}}function eC(r){return mm.add(r),()=>{mm.delete(r)}}function nC(r){return r&&(Ua(r.toastId)||Kl(r.toastId))?r.toastId:eT()}function Ql(r,t){return rT(r,t),t.toastId}function bf(r,t){return{...t,type:t&&t.type||r,toastId:nC(t)}}function Sf(r){return(t,i)=>Ql(t,bf(r,i))}function $t(r,t){return Ql(r,bf("default",t))}$t.loading=(r,t)=>Ql(r,bf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function iC(r,{pending:t,error:i,success:s},l){let c;t&&(c=Ua(t)?$t.loading(t,l):$t.loading(t.render,{...l,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(y,T,A)=>{if(T==null){$t.dismiss(c);return}let w={type:y,...h,...l,data:A},H=Ua(T)?{render:T}:T;return c?$t.update(c,{...w,...H}):$t(H.render,{...w,...H}),A},g=Qi(r)?r():r;return g.then(y=>p("success",s,y)).catch(y=>p("error",i,y)),g}$t.promise=iC;$t.success=Sf("success");$t.info=Sf("info");$t.error=Sf("error");$t.warning=Sf("warning");$t.warn=$t.warning;$t.dark=(r,t)=>Ql(r,bf("default",{theme:"dark",...t}));function rC(r){ZI(r)}$t.dismiss=rC;$t.clearWaitingQueue=WI;$t.isActive=iT;$t.update=(r,t={})=>{let i=XI(r,t);if(i){let{props:s,content:l}=i,c={delay:100,...s,...t,toastId:t.toastId||r,updateId:eT()};c.toastId!==r&&(c.staleId=r);let h=c.render||l;delete c.render,Ql(h,c)}};$t.done=r=>{$t.update(r,{progress:1})};$t.onChange=eC;$t.play=r=>aT(!0,r);$t.pause=r=>aT(!1,r);function aC(r){var t;let{subscribe:i,getSnapshot:s,setProps:l}=$.useRef(tC(r)).current;l(r);let c=(t=$.useSyncExternalStore(i,s,s))==null?void 0:t.slice();function h(p){if(!c)return[];let g=new Map;return r.newestOnTop&&c.reverse(),c.forEach(y=>{let{position:T}=y.props;g.has(T)||g.set(T,[]),g.get(T).push(y)}),Array.from(g,y=>p(y[0],y[1]))}return{getToastToRender:h,isToastActive:iT,count:c?.length}}function sC(r){let[t,i]=$.useState(!1),[s,l]=$.useState(!1),c=$.useRef(null),h=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:g,closeToast:y,onClick:T,closeOnClick:A}=r;JI({id:r.toastId,containerId:r.containerId,fn:i}),$.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{H()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||B(),window.addEventListener("focus",F),window.addEventListener("blur",B)}function H(){window.removeEventListener("focus",F),window.removeEventListener("blur",B)}function V(O){if(r.draggable===!0||r.draggable===O.pointerType){K();let S=c.current;h.canCloseOnClick=!0,h.canDrag=!0,S.style.transition="none",r.draggableDirection==="x"?(h.start=O.clientX,h.removalDistance=S.offsetWidth*(r.draggablePercent/100)):(h.start=O.clientY,h.removalDistance=S.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function G(O){let{top:S,bottom:R,left:D,right:x}=c.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&r.pauseOnHover&&O.clientX>=D&&O.clientX<=x&&O.clientY>=S&&O.clientY<=R?B():F()}function F(){i(!0)}function B(){i(!1)}function K(){h.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",ot)}function X(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",ot)}function rt(O){let S=c.current;if(h.canDrag&&S){h.didMove=!0,t&&B(),r.draggableDirection==="x"?h.delta=O.clientX-h.start:h.delta=O.clientY-h.start,h.start!==O.clientX&&(h.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function ot(){X();let O=c.current;if(h.canDrag&&h.didMove&&O){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){l(!0),r.closeToast(!0),r.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let dt={onPointerDown:V,onPointerUp:G};return p&&g&&(dt.onMouseEnter=B,r.stacked||(dt.onMouseLeave=F)),A&&(dt.onClick=O=>{T&&T(O),h.canCloseOnClick&&y(!0)}),{playToast:F,pauseToast:B,isRunning:t,preventExitTransition:s,toastRef:c,eventHandlers:dt}}var oC=typeof window<"u"?$.useLayoutEffect:$.useEffect,Af=({theme:r,type:t,isLoading:i,...s})=>Wt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function lC(r){return Wt.createElement(Af,{...r},Wt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function uC(r){return Wt.createElement(Af,{...r},Wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function cC(r){return Wt.createElement(Af,{...r},Wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fC(r){return Wt.createElement(Af,{...r},Wt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hC(){return Wt.createElement("div",{className:"Toastify__spinner"})}var pm={info:uC,warning:lC,success:cC,error:fC,spinner:hC},dC=r=>r in pm;function mC({theme:r,type:t,isLoading:i,icon:s}){let l=null,c={theme:r,type:t};return s===!1||(Qi(s)?l=s({...c,isLoading:i}):$.isValidElement(s)?l=$.cloneElement(s,c):i?l=pm.spinner():dC(t)&&(l=pm[t](c))),l}var pC=r=>{let{isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:l,playToast:c}=sC(r),{closeButton:h,children:p,autoClose:g,onClick:y,type:T,hideProgressBar:A,closeToast:w,transition:H,position:V,className:G,style:F,progressClassName:B,updateId:K,role:X,progress:rt,rtl:ot,toastId:dt,deleteToast:O,isIn:S,isLoading:R,closeOnClick:D,theme:x,ariaLabel:k}=r,C=Oa("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${T}`,{"Toastify__toast--rtl":ot},{"Toastify__toast--close-on-click":D}),ve=Qi(G)?G({rtl:ot,position:V,type:T,defaultClassName:C}):Oa(C,G),Zt=mC(r),Q=!!rt||!g,st={closeToast:w,type:T,theme:x},ft=null;return h===!1||(Qi(h)?ft=h(st):$.isValidElement(h)?ft=$.cloneElement(h,st):ft=FI(st)),Wt.createElement(H,{isIn:S,done:O,position:V,preventExitTransition:i,nodeRef:s,playToast:c},Wt.createElement("div",{id:dt,tabIndex:0,onClick:y,"data-in":S,className:ve,...l,style:F,ref:s,...S&&{role:X,"aria-label":k}},Zt!=null&&Wt.createElement("div",{className:Oa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Zt),tT(p,r,!t),ft,!r.customProgressBar&&Wt.createElement(GI,{...K&&!Q?{key:`p-${K}`}:{},rtl:ot,theme:x,delay:g,isRunning:t,isIn:S,closeToast:w,hide:A,type:T,className:B,controlledProgress:Q,progress:rt||0})))},gC=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),yC=qI(gC("bounce",!0)),_C={position:"top-right",transition:yC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function eD(r){let t={..._C,...r},i=r.stacked,[s,l]=$.useState(!0),c=$.useRef(null),{getToastToRender:h,isToastActive:p,count:g}=aC(t),{className:y,style:T,rtl:A,containerId:w,hotKeys:H}=t;function V(F){let B=Oa("Toastify__toast-container",`Toastify__toast-container--${F}`,{"Toastify__toast-container--rtl":A});return Qi(y)?y({position:F,rtl:A,defaultClassName:B}):Oa(B,hm(y))}function G(){i&&(l(!0),$t.play())}return oC(()=>{var F;if(i){let B=c.current.querySelectorAll('[data-in="true"]'),K=12,X=(F=t.position)==null?void 0:F.includes("top"),rt=0,ot=0;Array.from(B).reverse().forEach((dt,O)=>{let S=dt;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=X?"top":"bot");let R=rt*(s?.2:1)+(s?0:K*O);S.style.setProperty("--y",`${X?R:R*-1}px`),S.style.setProperty("--g",`${K}`),S.style.setProperty("--s",`${1-(s?ot:0)}`),rt+=S.offsetHeight,ot+=.025})}},[s,g,i]),$.useEffect(()=>{function F(B){var K;let X=c.current;H(B)&&((K=X.querySelector('[tabIndex="0"]'))==null||K.focus(),l(!1),$t.pause()),B.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(l(!0),$t.play())}return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[H]),Wt.createElement("section",{ref:c,className:"Toastify",id:w,onMouseEnter:()=>{i&&(l(!1),$t.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((F,B)=>{let K=B.length?{...T}:{...T,pointerEvents:"none"};return Wt.createElement("div",{tabIndex:-1,className:V(F),"data-stacked":i,style:K,key:`c-${F}`},B.map(({content:X,props:rt})=>Wt.createElement(pC,{...rt,stacked:i,collapseAll:G,isIn:p(rt.toastId,rt.containerId),key:`t-${rt.key}`},X)))}))}var pl={},Gv;function vC(){if(Gv)return pl;Gv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=h,pl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,H){const V=new c,G=w.length;if(G<2)return V;const F=H?.decode||T;let B=0;do{const K=w.indexOf("=",B);if(K===-1)break;const X=w.indexOf(";",B),rt=X===-1?G:X;if(K>rt){B=w.lastIndexOf(";",K-1)+1;continue}const ot=p(w,B,K),dt=g(w,K,ot),O=w.slice(ot,dt);if(V[O]===void 0){let S=p(w,K+1,rt),R=g(w,rt,S);const D=F(w.slice(S,R));V[O]=D}B=rt+1}while(B<G);return V}function p(w,H,V){do{const G=w.charCodeAt(H);if(G!==32&&G!==9)return H}while(++H<V);return V}function g(w,H,V){for(;H>V;){const G=w.charCodeAt(--H);if(G!==32&&G!==9)return H+1}return V}function y(w,H,V){const G=V?.encode||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const F=G(H);if(!t.test(F))throw new TypeError(`argument val is invalid: ${H}`);let B=w+"="+F;if(!V)return B;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);B+="; Max-Age="+V.maxAge}if(V.domain){if(!i.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);B+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);B+="; Path="+V.path}if(V.expires){if(!A(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);B+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(B+="; HttpOnly"),V.secure&&(B+="; Secure"),V.partitioned&&(B+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return B}function T(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return l.call(w)==="[object Date]"}return pl}vC();var Yv="popstate";function EC(r={}){function t(s,l){let{pathname:c,search:h,hash:p}=s.location;return gm("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:kl(l)}return bC(t,i,null,r)}function ae(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function fi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TC(){return Math.random().toString(36).substring(2,10)}function $v(r,t){return{usr:r.state,key:r.key,idx:t}}function gm(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?eo(t):t,state:i,key:t&&t.key||s||TC()}}function kl({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function eo(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function bC(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,h=l.history,p="POP",g=null,y=T();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function T(){return(h.state||{idx:null}).idx}function A(){p="POP";let F=T(),B=F==null?null:F-y;y=F,g&&g({action:p,location:G.location,delta:B})}function w(F,B){p="PUSH";let K=gm(G.location,F,B);y=T()+1;let X=$v(K,y),rt=G.createHref(K);try{h.pushState(X,"",rt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;l.location.assign(rt)}c&&g&&g({action:p,location:G.location,delta:1})}function H(F,B){p="REPLACE";let K=gm(G.location,F,B);y=T();let X=$v(K,y),rt=G.createHref(K);h.replaceState(X,"",rt),c&&g&&g({action:p,location:G.location,delta:0})}function V(F){return SC(F)}let G={get action(){return p},get location(){return r(l,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Yv,A),g=F,()=>{l.removeEventListener(Yv,A),g=null}},createHref(F){return t(l,F)},createURL:V,encodeLocation(F){let B=V(F);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:H,go(F){return h.go(F)}};return G}function SC(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:kl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function sT(r,t,i="/"){return AC(r,t,i,!1)}function AC(r,t,i,s){let l=typeof t=="string"?eo(t):t,c=Xi(l.pathname||"/",i);if(c==null)return null;let h=oT(r);wC(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=PC(c);p=VC(h[g],y,s)}return p}function oT(r,t=[],i=[],s=""){let l=(c,h,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(ae(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Yi([s,g.relativePath]),T=i.concat(g);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),oT(c.children,t,T,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:MC(y,c.index),routesMeta:T})};return r.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let p of lT(c.path))l(c,h,p)}),t}function lT(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let h=lT(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function wC(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:xC(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var RC=/^:[\w-]+$/,IC=3,CC=2,OC=1,DC=10,NC=-2,Kv=r=>r==="*";function MC(r,t){let i=r.split("/"),s=i.length;return i.some(Kv)&&(s+=NC),t&&(s+=CC),i.filter(l=>!Kv(l)).reduce((l,c)=>l+(RC.test(c)?IC:c===""?OC:DC),s)}function xC(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function VC(r,t,i=!1){let{routesMeta:s}=r,l={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,T=c==="/"?t:t.slice(c.length)||"/",A=uf({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),w=g.route;if(!A&&y&&i&&!s[s.length-1].route.index&&(A=uf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:Yi([c,A.pathname]),pathnameBase:BC(Yi([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=Yi([c,A.pathnameBase]))}return h}function uf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=kC(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:A},w)=>{if(T==="*"){let V=p[w]||"";h=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const H=p[w];return A&&!H?y[T]=void 0:y[T]=(H||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function kC(r,t=!1,i=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function PC(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Xi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function LC(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?eo(r):r;return{pathname:i?i.startsWith("/")?i:UC(i,t):t,search:HC(s),hash:jC(l)}}function UC(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function qd(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function uT(r){let t=zC(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function cT(r,t,i,s=!1){let l;typeof r=="string"?l=eo(r):(l={...r},ae(!l.pathname||!l.pathname.includes("?"),qd("?","pathname","search",l)),ae(!l.pathname||!l.pathname.includes("#"),qd("#","pathname","hash",l)),ae(!l.search||!l.search.includes("#"),qd("#","search","hash",l)));let c=r===""||l.pathname==="",h=c?"/":l.pathname,p;if(h==null)p=i;else{let A=t.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;l.pathname=w.join("/")}p=A>=0?t[A]:"/"}let g=LC(l,p),y=h&&h!=="/"&&h.endsWith("/"),T=(c||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var Yi=r=>r.join("/").replace(/\/\/+/g,"/"),BC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fT=["POST","PUT","PATCH","DELETE"];new Set(fT);var FC=["GET",...fT];new Set(FC);var no=$.createContext(null);no.displayName="DataRouter";var wf=$.createContext(null);wf.displayName="DataRouterState";var hT=$.createContext({isTransitioning:!1});hT.displayName="ViewTransition";var GC=$.createContext(new Map);GC.displayName="Fetchers";var YC=$.createContext(null);YC.displayName="Await";var hi=$.createContext(null);hi.displayName="Navigation";var Xl=$.createContext(null);Xl.displayName="Location";var di=$.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var tp=$.createContext(null);tp.displayName="RouteError";function $C(r,{relative:t}={}){ae(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=$.useContext(hi),{hash:l,pathname:c,search:h}=Wl(r,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Yi([i,c])),s.createHref({pathname:p,search:h,hash:l})}function Zl(){return $.useContext(Xl)!=null}function ja(){return ae(Zl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Xl).location}var dT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(r){$.useContext(hi).static||$.useLayoutEffect(r)}function KC(){let{isDataRoute:r}=$.useContext(di);return r?oO():QC()}function QC(){ae(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(no),{basename:t,navigator:i}=$.useContext(hi),{matches:s}=$.useContext(di),{pathname:l}=ja(),c=JSON.stringify(uT(s)),h=$.useRef(!1);return mT(()=>{h.current=!0}),$.useCallback((g,y={})=>{if(fi(h.current,dT),!h.current)return;if(typeof g=="number"){i.go(g);return}let T=cT(g,JSON.parse(c),l,y.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Yi([t,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[t,i,c,l,r])}$.createContext(null);function nD(){let{matches:r}=$.useContext(di),t=r[r.length-1];return t?t.params:{}}function Wl(r,{relative:t}={}){let{matches:i}=$.useContext(di),{pathname:s}=ja(),l=JSON.stringify(uT(i));return $.useMemo(()=>cT(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function XC(r,t){return pT(r,t)}function pT(r,t,i,s){ae(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=$.useContext(hi),{matches:c}=$.useContext(di),h=c[c.length-1],p=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",T=h&&h.route;{let B=T&&T.path||"";gT(g,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=ja(),w;if(t){let B=typeof t=="string"?eo(t):t;ae(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=A;let H=w.pathname||"/",V=H;if(y!=="/"){let B=y.replace(/^\//,"").split("/");V="/"+H.replace(/^\//,"").split("/").slice(B.length).join("/")}let G=sT(r,{pathname:V});fi(T||G!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=eO(G&&G.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Yi([y,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Yi([y,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,i,s);return t&&F?$.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},F):F}function ZC(){let r=sO(),t=qC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:c},"ErrorBoundary")," or"," ",$.createElement("code",{style:c},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),i?$.createElement("pre",{style:l},i):null,h)}var WC=$.createElement(ZC,null),JC=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?$.createElement(di.Provider,{value:this.props.routeContext},$.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tO({routeContext:r,match:t,children:i}){let s=$.useContext(no);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(di.Provider,{value:r},i)}function eO(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,c=i?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ae(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(i)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:T,errors:A}=i,w=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,T)=>{let A,w=!1,H=null,V=null;i&&(A=c&&y.route.id?c[y.route.id]:void 0,H=y.route.errorElement||WC,h&&(p<0&&T===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,V=null):p===T&&(w=!0,V=y.route.hydrateFallbackElement||null)));let G=t.concat(l.slice(0,T+1)),F=()=>{let B;return A?B=H:w?B=V:y.route.Component?B=$.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,$.createElement(tO,{match:y,routeContext:{outlet:g,matches:G,isDataRoute:i!=null},children:B})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?$.createElement(JC,{location:i.location,revalidation:i.revalidation,component:H,error:A,children:F(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):F()},null)}function ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nO(r){let t=$.useContext(no);return ae(t,ep(r)),t}function iO(r){let t=$.useContext(wf);return ae(t,ep(r)),t}function rO(r){let t=$.useContext(di);return ae(t,ep(r)),t}function np(r){let t=rO(r),i=t.matches[t.matches.length-1];return ae(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function aO(){return np("useRouteId")}function sO(){let r=$.useContext(tp),t=iO("useRouteError"),i=np("useRouteError");return r!==void 0?r:t.errors?.[i]}function oO(){let{router:r}=nO("useNavigate"),t=np("useNavigate"),i=$.useRef(!1);return mT(()=>{i.current=!0}),$.useCallback(async(l,c={})=>{fi(i.current,dT),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...c}))},[r,t])}var Qv={};function gT(r,t,i){!t&&!Qv[r]&&(Qv[r]=!0,fi(!1,i))}$.memo(lO);function lO({routes:r,future:t,state:i}){return pT(r,void 0,i,t)}function uO(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cO({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}){ae(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof i=="string"&&(i=eo(i));let{pathname:g="/",search:y="",hash:T="",state:A=null,key:w="default"}=i,H=$.useMemo(()=>{let V=Xi(g,h);return V==null?null:{location:{pathname:V,search:y,hash:T,state:A,key:w},navigationType:s}},[h,g,y,T,A,w,s]);return fi(H!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:$.createElement(hi.Provider,{value:p},$.createElement(Xl.Provider,{children:t,value:H}))}function iD({children:r,location:t}){return XC(ym(r),t)}function ym(r,t=[]){let i=[];return $.Children.forEach(r,(s,l)=>{if(!$.isValidElement(s))return;let c=[...t,l];if(s.type===$.Fragment){i.push.apply(i,ym(s.props.children,c));return}ae(s.type===uO,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ym(s.props.children,c)),i.push(h)}),i}var Bc="get",Hc="application/x-www-form-urlencoded";function Rf(r){return r!=null&&typeof r.tagName=="string"}function fO(r){return Rf(r)&&r.tagName.toLowerCase()==="button"}function hO(r){return Rf(r)&&r.tagName.toLowerCase()==="form"}function dO(r){return Rf(r)&&r.tagName.toLowerCase()==="input"}function mO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pO(r,t){return r.button===0&&(!t||t==="_self")&&!mO(r)}var Dc=null;function gO(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var yO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(r){return r!=null&&!yO.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function _O(r,t){let i,s,l,c,h;if(hO(r)){let p=r.getAttribute("action");s=p?Xi(p,t):null,i=r.getAttribute("method")||Bc,l=Fd(r.getAttribute("enctype"))||Hc,c=new FormData(r)}else if(fO(r)||dO(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Xi(g,t):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||Bc,l=Fd(r.getAttribute("formenctype"))||Fd(p.getAttribute("enctype"))||Hc,c=new FormData(p,r),!gO()){let{name:y,type:T,value:A}=r;if(T==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,A)}}else{if(Rf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Bc,s=null,l=Hc,h=r}return c&&l==="text/plain"&&(h=c,c=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:c,body:h}}function ip(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function vO(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TO(r,t,i){let s=await Promise.all(r.map(async l=>{let c=t.routes[l.route.id];if(c){let h=await vO(c,i);return h.links?h.links():[]}return[]}));return wO(s.flat(1).filter(EO).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Xv(r,t,i,s,l,c){let h=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?t.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?t.filter((g,y)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function bO(r,t,{includeHydrateFallback:i}={}){return SO(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function SO(r){return[...new Set(r)]}function AO(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function wO(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let c=JSON.stringify(AO(l));return i.has(c)||(i.add(c),s.push({key:c,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RO=new Set([100,101,204,205]);function IO(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&Xi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function yT(){let r=$.useContext(no);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function CO(){let r=$.useContext(wf);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=$.createContext(void 0);rp.displayName="FrameworkContext";function _T(){let r=$.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function OO(r,t){let i=$.useContext(rp),[s,l]=$.useState(!1),[c,h]=$.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:A}=t,w=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=B=>{B.forEach(K=>{h(K.isIntersecting)})},F=new IntersectionObserver(G,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),$.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let H=()=>{l(!0)},V=()=>{l(!1),h(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:gl(p,H),onBlur:gl(g,V),onMouseEnter:gl(y,H),onMouseLeave:gl(T,V),onTouchStart:gl(A,H)}]:[!1,w,{}]}function gl(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function DO({page:r,...t}){let{router:i}=yT(),s=$.useMemo(()=>sT(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?$.createElement(MO,{page:r,matches:s,...t}):null}function NO(r){let{manifest:t,routeModules:i}=_T(),[s,l]=$.useState([]);return $.useEffect(()=>{let c=!1;return TO(r,t,i).then(h=>{c||l(h)}),()=>{c=!0}},[r,t,i]),s}function MO({page:r,matches:t,...i}){let s=ja(),{manifest:l,routeModules:c}=_T(),{basename:h}=yT(),{loaderData:p,matches:g}=CO(),y=$.useMemo(()=>Xv(r,t,g,l,s,"data"),[r,t,g,l,s]),T=$.useMemo(()=>Xv(r,t,g,l,s,"assets"),[r,t,g,l,s]),A=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,G=!1;if(t.forEach(B=>{let K=l.routes[B.route.id];!K||!K.hasLoader||(!y.some(X=>X.route.id===B.route.id)&&B.route.id in p&&c[B.route.id]?.shouldRevalidate||K.hasClientLoader?G=!0:V.add(B.route.id))}),V.size===0)return[];let F=IO(r,h);return G&&V.size>0&&F.searchParams.set("_routes",t.filter(B=>V.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[h,p,s,l,y,t,r,c]),w=$.useMemo(()=>bO(T,l),[T,l]),H=NO(T);return $.createElement($.Fragment,null,A.map(V=>$.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),w.map(V=>$.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),H.map(({key:V,link:G})=>$.createElement("link",{key:V,...G})))}function xO(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.6.3")}catch{}function rD({basename:r,children:t,window:i}){let s=$.useRef();s.current==null&&(s.current=EC({window:i,v5Compat:!0}));let l=s.current,[c,h]=$.useState({action:l.action,location:l.location}),p=$.useCallback(g=>{$.startTransition(()=>h(g))},[h]);return $.useLayoutEffect(()=>l.listen(p),[l,p]),$.createElement(cO,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:l})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TT=$.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:T,viewTransition:A,...w},H){let{basename:V}=$.useContext(hi),G=typeof y=="string"&&ET.test(y),F,B=!1;if(typeof y=="string"&&G&&(F=y,vT))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),x=Xi(D.pathname,V);D.origin===R.origin&&x!=null?y=x+D.search+D.hash:B=!0}catch{fi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=$C(y,{relative:l}),[X,rt,ot]=OO(s,w),dt=LO(y,{replace:h,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:A});function O(R){t&&t(R),R.defaultPrevented||dt(R)}let S=$.createElement("a",{...w,...ot,href:F||K,onClick:B||c?t:O,ref:xO(H,rt),target:g,"data-discover":!G&&i==="render"?"true":void 0});return X&&!G?$.createElement($.Fragment,null,S,$.createElement(DO,{page:K})):S});TT.displayName="Link";var VO=$.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:c,to:h,viewTransition:p,children:g,...y},T){let A=Wl(h,{relative:y.relative}),w=ja(),H=$.useContext(wf),{navigator:V,basename:G}=$.useContext(hi),F=H!=null&&jO(A)&&p===!0,B=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,K=w.pathname,X=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;i||(K=K.toLowerCase(),X=X?X.toLowerCase():null,B=B.toLowerCase()),X&&G&&(X=Xi(X,G)||X);const rt=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ot=K===B||!l&&K.startsWith(B)&&K.charAt(rt)==="/",dt=X!=null&&(X===B||!l&&X.startsWith(B)&&X.charAt(B.length)==="/"),O={isActive:ot,isPending:dt,isTransitioning:F},S=ot?t:void 0,R;typeof s=="function"?R=s(O):R=[s,ot?"active":null,dt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(O):c;return $.createElement(TT,{...y,"aria-current":S,className:R,ref:T,style:D,to:h,viewTransition:p},typeof g=="function"?g(O):g)});VO.displayName="NavLink";var kO=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:c,method:h=Bc,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:A,...w},H)=>{let V=BO(),G=HO(p,{relative:y}),F=h.toLowerCase()==="get"?"get":"post",B=typeof p=="string"&&ET.test(p),K=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let rt=X.nativeEvent.submitter,ot=rt?.getAttribute("formmethod")||h;V(rt||X.currentTarget,{fetcherKey:t,method:ot,navigate:i,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:A})};return $.createElement("form",{ref:H,method:F,action:G,onSubmit:s?g:K,...w,"data-discover":!B&&r==="render"?"true":void 0})});kO.displayName="Form";function PO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(r){let t=$.useContext(no);return ae(t,PO(r)),t}function LO(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:h}={}){let p=KC(),g=ja(),y=Wl(r,{relative:c});return $.useCallback(T=>{if(pO(T,t)){T.preventDefault();let A=i!==void 0?i:kl(g)===kl(y);p(r,{replace:A,state:s,preventScrollReset:l,relative:c,viewTransition:h})}},[g,p,y,i,s,t,r,l,c,h])}var UO=0,zO=()=>`__${String(++UO)}__`;function BO(){let{router:r}=bT("useSubmit"),{basename:t}=$.useContext(hi),i=aO();return $.useCallback(async(s,l={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=_O(s,t);if(l.navigate===!1){let T=l.fetcherKey||zO();await r.fetch(T,i,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await r.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function HO(r,{relative:t}={}){let{basename:i}=$.useContext(hi),s=$.useContext(di);ae(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Wl(r||".",{relative:t})},h=ja();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(A=>A).forEach(A=>p.append("index",A));let T=p.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Yi([i,c.pathname])),kl(c)}function jO(r,t={}){let i=$.useContext(hT);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bT("useViewTransitionState"),l=Wl(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=Xi(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=Xi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return uf(l.pathname,h)!=null||uf(l.pathname,c)!=null}[...RO];export{rD as B,TT as L,iD as R,JO as a,QO as b,YO as c,GO as d,tD as e,WO as f,XO as g,L0 as h,DS as i,qO as j,KC as k,eD as l,uO as m,FO as n,KO as o,$ as r,$O as s,nD as u,$t as y};
